{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Cameron\\\\projects\\\\exitready-pro\\\\frontend\\\\src\\\\pages\\\\GapAnalysis.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { RefreshCw, History, Download, ChevronDown, ChevronUp, Calendar, TrendingUp } from 'lucide-react';\nimport AssessmentModal from '../components/AssessmentModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GapAnalysis = () => {\n  _s();\n  const [assessment, setAssessment] = useState(null);\n  const [allQuestions, setAllQuestions] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showAssessmentModal, setShowAssessmentModal] = useState(false);\n  const [assessmentHistory, setAssessmentHistory] = useState([]);\n  const [showHistory, setShowHistory] = useState(false);\n  const [historyLoading, setHistoryLoading] = useState(false);\n\n  // Calculate progress\n  const progressPercent = allQuestions.length > 0 ? Math.round(((assessment === null || assessment === void 0 ? void 0 : assessment.answered_questions) || 0) / allQuestions.length * 100) : 0;\n\n  // Add this function\n  const login = async () => {\n    try {\n      const res = await api.post('/auth/login', {\n        email: 'test@test.com',\n        password: 'password'\n      });\n      localStorage.setItem('token', res.data.token);\n      alert('Logged in!');\n    } catch (err) {\n      alert('Login failed');\n    }\n  };\n\n  // Fetch current assessment\n  useEffect(() => {\n    login().then(() => {\n      fetchAssessment();\n      fetchQuestions();\n    });\n  }, []);\n  const fetchAssessment = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('http://localhost:5000/api/assessment/current', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setAssessment(data);\n      }\n    } catch (error) {\n      console.error('Error fetching assessment:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchQuestions = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('http://localhost:5000/api/assessment/questions', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        var _data$questions;\n        const data = await response.json();\n        console.log('Questions loaded:', ((_data$questions = data.questions) === null || _data$questions === void 0 ? void 0 : _data$questions.length) || 0);\n        setAllQuestions(data.questions || []);\n      } else {\n        console.error('Failed to fetch questions:', response.status);\n        alert('Failed to load questions. Please refresh the page.');\n      }\n    } catch (error) {\n      console.error('Error fetching questions:', error);\n      alert('Error loading questions. Please check your connection and try again.');\n    }\n  };\n  const fetchAssessmentHistory = async () => {\n    setHistoryLoading(true);\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('http://localhost:5000/api/assessment/history', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setAssessmentHistory(data.history || []);\n      }\n    } catch (error) {\n      console.error('Error fetching assessment history:', error);\n    } finally {\n      setHistoryLoading(false);\n    }\n  };\n  const handleRetakeAssessment = async () => {\n    if (window.confirm('Are you sure you want to retake the assessment? This will create a new assessment and archive your current one.')) {\n      try {\n        const token = localStorage.getItem('token');\n        const response = await fetch('http://localhost:5000/api/assessment/retake', {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        if (response.ok) {\n          const data = await response.json();\n          setAssessment(data.assessment);\n\n          // Make sure questions are loaded before opening modal\n          if (allQuestions.length > 0) {\n            setShowAssessmentModal(true);\n          } else {\n            // Fetch questions first if not loaded\n            await fetchQuestions();\n            setShowAssessmentModal(true);\n          }\n          fetchAssessmentHistory(); // Refresh history\n        } else {\n          alert('Failed to create new assessment. Please try again.');\n        }\n      } catch (error) {\n        console.error('Error retaking assessment:', error);\n        alert('An error occurred. Please try again.');\n      }\n    }\n  };\n  const handleViewHistoricalAssessment = async assessmentId => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:5000/api/assessment/${assessmentId}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        // You can display this in a modal or navigate to a detail view\n        alert(`Historical Assessment Details:\\n\\nCompleted: ${new Date(data.completed_at).toLocaleDateString()}\\nOverall Score: ${data.overall_score}\\nFinancial Score: ${data.financial_score}\\nOperational Score: ${data.operational_score}\\nDependency Score: ${data.dependency_score}`);\n      }\n    } catch (error) {\n      console.error('Error viewing historical assessment:', error);\n    }\n  };\n  const toggleHistory = () => {\n    if (!showHistory && assessmentHistory.length === 0) {\n      fetchAssessmentHistory();\n    }\n    setShowHistory(!showHistory);\n  };\n  const getScoreColor = score => {\n    if (score >= 80) return 'text-green-600';\n    if (score >= 60) return 'text-blue-600';\n    if (score >= 40) return 'text-yellow-600';\n    return 'text-red-600';\n  };\n  const getScoreBgColor = score => {\n    if (score >= 80) return 'bg-green-100 border-green-300';\n    if (score >= 60) return 'bg-blue-100 border-blue-300';\n    if (score >= 40) return 'bg-yellow-100 border-yellow-300';\n    return 'bg-red-100 border-red-300';\n  };\n  const exportToPDF = () => {\n    // Placeholder for PDF export functionality\n    alert('PDF export functionality will be implemented with a PDF library like jsPDF or html2pdf');\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center min-h-screen\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-900 mb-2\",\n        children: \"Gap Analysis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: \"Complete the assessment to identify areas for improvement before exit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg border-2 border-gray-200 p-6 mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-bold text-gray-900\",\n          children: \"Overall Progress\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm font-semibold text-gray-900\",\n          children: [(assessment === null || assessment === void 0 ? void 0 : assessment.answered_questions) || 0, \" / \", allQuestions.length, \" questions completed\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full bg-gray-200 rounded-full h-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `h-4 rounded-full transition-all ${progressPercent === 100 ? 'bg-green-600' : progressPercent >= 50 ? 'bg-blue-600' : 'bg-yellow-500'}`,\n          style: {\n            width: `${progressPercent}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mt-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-gray-600\",\n          children: [progressPercent, \"% complete\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), progressPercent === 100 && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm font-semibold text-green-600\",\n          children: \"Assessment Complete! \\uD83C\\uDF89\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this), progressPercent === 100 && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-500 mt-1\",\n        children: \"All questions answered \\u2713\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this), progressPercent < 100 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-r from-blue-50 to-blue-100 border-2 border-blue-300 rounded-lg p-6 mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold text-blue-900 mb-2\",\n        children: (assessment === null || assessment === void 0 ? void 0 : assessment.answered_questions) === 0 ? 'Ready to Begin?' : 'Continue Your Assessment'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-blue-700 mb-4\",\n        children: (assessment === null || assessment === void 0 ? void 0 : assessment.answered_questions) === 0 ? `Complete all ${allQuestions.length} questions to get your exit readiness score` : `You've answered ${assessment === null || assessment === void 0 ? void 0 : assessment.answered_questions} of ${allQuestions.length} questions`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          if (allQuestions.length === 0) {\n            alert('Loading questions... Please try again in a moment.');\n            fetchQuestions();\n          } else {\n            setShowAssessmentModal(true);\n          }\n        },\n        className: \"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition font-semibold\",\n        children: (assessment === null || assessment === void 0 ? void 0 : assessment.answered_questions) === 0 ? 'Start Assessment' : 'Continue Assessment'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 9\n    }, this), progressPercent === 100 && assessment && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg border-2 border-gray-200 p-6 mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-gray-900 mb-6\",\n        children: \"Your Exit Readiness Score\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `rounded-lg p-6 mb-6 border-2 ${getScoreBgColor(assessment.overall_score)}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-gray-800 mb-1\",\n              children: \"Overall Score\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Combined readiness across all categories\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `text-5xl font-bold ${getScoreColor(assessment.overall_score)}`,\n            children: assessment.overall_score\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white border-2 border-gray-200 rounded-lg p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold text-gray-700 mb-2\",\n            children: \"Financial\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `text-3xl font-bold ${getScoreColor(assessment.financial_score)}`,\n            children: assessment.financial_score\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white border-2 border-gray-200 rounded-lg p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold text-gray-700 mb-2\",\n            children: \"Operational\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `text-3xl font-bold ${getScoreColor(assessment.operational_score)}`,\n            children: assessment.operational_score\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white border-2 border-gray-200 rounded-lg p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold text-gray-700 mb-2\",\n            children: \"Dependency\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `text-3xl font-bold ${getScoreColor(assessment.dependency_score)}`,\n            children: assessment.dependency_score\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-3 mt-6\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: exportToPDF,\n          className: \"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition\",\n          children: [/*#__PURE__*/_jsxDEV(Download, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Generate PDF Report\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 9\n    }, this), progressPercent === 100 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-8\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleRetakeAssessment,\n        className: \"flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition font-semibold w-full md:w-auto justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Retake Assessment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg border-2 border-gray-200 overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: toggleHistory,\n        className: \"w-full flex items-center justify-between p-6 hover:bg-gray-50 transition\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(History, {\n            size: 24,\n            className: \"text-gray-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-left\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold text-gray-900\",\n              children: \"Assessment History\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: \"View your previous assessments and track progress over time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [assessmentHistory.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-1 rounded-full\",\n            children: assessmentHistory.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 15\n          }, this), showHistory ? /*#__PURE__*/_jsxDEV(ChevronUp, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 28\n          }, this) : /*#__PURE__*/_jsxDEV(ChevronDown, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 54\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }, this), showHistory && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-t border-gray-200 p-6\",\n        children: historyLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center py-8\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 15\n        }, this) : assessmentHistory.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-8\",\n          children: [/*#__PURE__*/_jsxDEV(History, {\n            size: 48,\n            className: \"text-gray-300 mx-auto mb-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500\",\n            children: \"No previous assessments found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-400 mt-1\",\n            children: \"Complete your first assessment to start tracking your progress\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: assessmentHistory.map((historicalAssessment, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-2 border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:shadow-md transition\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start justify-between mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-blue-100 text-blue-800 rounded-full w-10 h-10 flex items-center justify-center font-bold\",\n                  children: [\"#\", assessmentHistory.length - index]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                      size: 16,\n                      className: \"text-gray-400\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 382,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-semibold text-gray-700\",\n                      children: new Date(historicalAssessment.completed_at).toLocaleDateString('en-US', {\n                        year: 'numeric',\n                        month: 'long',\n                        day: 'numeric'\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 383,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 381,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500 mt-1\",\n                    children: [\"Completed \", Math.floor((new Date() - new Date(historicalAssessment.completed_at)) / (1000 * 60 * 60 * 24)), \" days ago\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 391,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `text-2xl font-bold ${getScoreColor(historicalAssessment.overall_score)}`,\n                children: historicalAssessment.overall_score\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-3 gap-3 mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-600 mb-1\",\n                  children: \"Financial\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: `text-lg font-bold ${getScoreColor(historicalAssessment.financial_score)}`,\n                  children: historicalAssessment.financial_score\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-600 mb-1\",\n                  children: \"Operational\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: `text-lg font-bold ${getScoreColor(historicalAssessment.operational_score)}`,\n                  children: historicalAssessment.operational_score\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-600 mb-1\",\n                  children: \"Dependency\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 416,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: `text-lg font-bold ${getScoreColor(historicalAssessment.dependency_score)}`,\n                  children: historicalAssessment.dependency_score\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 21\n            }, this), index > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-blue-50 rounded-lg p-3 mb-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2 text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n                  size: 16,\n                  className: \"text-blue-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 427,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-700\",\n                  children: [\"Change from previous:\", ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: historicalAssessment.overall_score > assessmentHistory[index - 1].overall_score ? 'text-green-600 font-semibold' : historicalAssessment.overall_score < assessmentHistory[index - 1].overall_score ? 'text-red-600 font-semibold' : 'text-gray-600 font-semibold',\n                    children: [historicalAssessment.overall_score > assessmentHistory[index - 1].overall_score ? '+' : '', historicalAssessment.overall_score - assessmentHistory[index - 1].overall_score, \" points\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 430,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleViewHistoricalAssessment(historicalAssessment.id),\n              className: \"text-blue-600 hover:text-blue-800 text-sm font-semibold hover:underline\",\n              children: \"View Full Details \\u2192\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 21\n            }, this)]\n          }, historicalAssessment.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 7\n    }, this), showAssessmentModal && /*#__PURE__*/_jsxDEV(AssessmentModal, {\n      questions: allQuestions,\n      assessmentId: assessment === null || assessment === void 0 ? void 0 : assessment.id,\n      onClose: () => setShowAssessmentModal(false),\n      onComplete: () => {\n        fetchAssessment();\n        setShowAssessmentModal(false);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 194,\n    columnNumber: 5\n  }, this);\n};\n_s(GapAnalysis, \"S26Qm+aUn8SN6j3RoChWrXte44c=\");\n_c = GapAnalysis;\nexport default GapAnalysis;\nvar _c;\n$RefreshReg$(_c, \"GapAnalysis\");","map":{"version":3,"names":["React","useState","useEffect","RefreshCw","History","Download","ChevronDown","ChevronUp","Calendar","TrendingUp","AssessmentModal","jsxDEV","_jsxDEV","GapAnalysis","_s","assessment","setAssessment","allQuestions","setAllQuestions","loading","setLoading","showAssessmentModal","setShowAssessmentModal","assessmentHistory","setAssessmentHistory","showHistory","setShowHistory","historyLoading","setHistoryLoading","progressPercent","length","Math","round","answered_questions","login","res","api","post","email","password","localStorage","setItem","data","token","alert","err","then","fetchAssessment","fetchQuestions","getItem","response","fetch","headers","ok","json","error","console","_data$questions","log","questions","status","fetchAssessmentHistory","history","handleRetakeAssessment","window","confirm","method","handleViewHistoricalAssessment","assessmentId","Date","completed_at","toLocaleDateString","overall_score","financial_score","operational_score","dependency_score","toggleHistory","getScoreColor","score","getScoreBgColor","exportToPDF","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","width","onClick","size","map","historicalAssessment","index","year","month","day","floor","id","onClose","onComplete","_c","$RefreshReg$"],"sources":["C:/Users/Cameron/projects/exitready-pro/frontend/src/pages/GapAnalysis.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { RefreshCw, History, Download, ChevronDown, ChevronUp, Calendar, TrendingUp } from 'lucide-react';\nimport AssessmentModal from '../components/AssessmentModal';\n\nconst GapAnalysis = () => {\n  const [assessment, setAssessment] = useState(null);\n  const [allQuestions, setAllQuestions] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showAssessmentModal, setShowAssessmentModal] = useState(false);\n  const [assessmentHistory, setAssessmentHistory] = useState([]);\n  const [showHistory, setShowHistory] = useState(false);\n  const [historyLoading, setHistoryLoading] = useState(false);\n\n  // Calculate progress\n  const progressPercent = allQuestions.length > 0 \n    ? Math.round((assessment?.answered_questions || 0) / allQuestions.length * 100)\n    : 0;\n\n  // Add this function\n  const login = async () => {\n    try {\n      const res = await api.post('/auth/login', {\n        email: 'test@test.com',\n        password: 'password'\n      });\n      localStorage.setItem('token', res.data.token);\n      alert('Logged in!');\n    } catch (err) {\n      alert('Login failed');\n    }\n  };\n  \n  // Fetch current assessment\n  useEffect(() => {\n    login().then(() => {\n      fetchAssessment();\n      fetchQuestions();\n    });\n  }, []);\n\n  const fetchAssessment = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('http://localhost:5000/api/assessment/current', {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setAssessment(data);\n      }\n    } catch (error) {\n      console.error('Error fetching assessment:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchQuestions = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('http://localhost:5000/api/assessment/questions', {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        console.log('Questions loaded:', data.questions?.length || 0);\n        setAllQuestions(data.questions || []);\n      } else {\n        console.error('Failed to fetch questions:', response.status);\n        alert('Failed to load questions. Please refresh the page.');\n      }\n    } catch (error) {\n      console.error('Error fetching questions:', error);\n      alert('Error loading questions. Please check your connection and try again.');\n    }\n  };\n\n  const fetchAssessmentHistory = async () => {\n    setHistoryLoading(true);\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('http://localhost:5000/api/assessment/history', {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setAssessmentHistory(data.history || []);\n      }\n    } catch (error) {\n      console.error('Error fetching assessment history:', error);\n    } finally {\n      setHistoryLoading(false);\n    }\n  };\n\n  const handleRetakeAssessment = async () => {\n    if (window.confirm('Are you sure you want to retake the assessment? This will create a new assessment and archive your current one.')) {\n      try {\n        const token = localStorage.getItem('token');\n        const response = await fetch('http://localhost:5000/api/assessment/retake', {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${token}`,\n          },\n        });\n\n        if (response.ok) {\n          const data = await response.json();\n          setAssessment(data.assessment);\n          \n          // Make sure questions are loaded before opening modal\n          if (allQuestions.length > 0) {\n            setShowAssessmentModal(true);\n          } else {\n            // Fetch questions first if not loaded\n            await fetchQuestions();\n            setShowAssessmentModal(true);\n          }\n          \n          fetchAssessmentHistory(); // Refresh history\n        } else {\n          alert('Failed to create new assessment. Please try again.');\n        }\n      } catch (error) {\n        console.error('Error retaking assessment:', error);\n        alert('An error occurred. Please try again.');\n      }\n    }\n  };\n\n  const handleViewHistoricalAssessment = async (assessmentId) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:5000/api/assessment/${assessmentId}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        // You can display this in a modal or navigate to a detail view\n        alert(`Historical Assessment Details:\\n\\nCompleted: ${new Date(data.completed_at).toLocaleDateString()}\\nOverall Score: ${data.overall_score}\\nFinancial Score: ${data.financial_score}\\nOperational Score: ${data.operational_score}\\nDependency Score: ${data.dependency_score}`);\n      }\n    } catch (error) {\n      console.error('Error viewing historical assessment:', error);\n    }\n  };\n\n  const toggleHistory = () => {\n    if (!showHistory && assessmentHistory.length === 0) {\n      fetchAssessmentHistory();\n    }\n    setShowHistory(!showHistory);\n  };\n\n  const getScoreColor = (score) => {\n    if (score >= 80) return 'text-green-600';\n    if (score >= 60) return 'text-blue-600';\n    if (score >= 40) return 'text-yellow-600';\n    return 'text-red-600';\n  };\n\n  const getScoreBgColor = (score) => {\n    if (score >= 80) return 'bg-green-100 border-green-300';\n    if (score >= 60) return 'bg-blue-100 border-blue-300';\n    if (score >= 40) return 'bg-yellow-100 border-yellow-300';\n    return 'bg-red-100 border-red-300';\n  };\n\n  const exportToPDF = () => {\n    // Placeholder for PDF export functionality\n    alert('PDF export functionality will be implemented with a PDF library like jsPDF or html2pdf');\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      {/* Header */}\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Gap Analysis</h1>\n        <p className=\"text-gray-600\">\n          Complete the assessment to identify areas for improvement before exit\n        </p>\n      </div>\n\n      {/* Overall Progress Bar */}\n      <div className=\"bg-white rounded-lg border-2 border-gray-200 p-6 mb-8\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <h2 className=\"text-lg font-bold text-gray-900\">Overall Progress</h2>\n          <span className=\"text-sm font-semibold text-gray-900\">\n            {assessment?.answered_questions || 0} / {allQuestions.length} questions completed\n          </span>\n        </div>\n        <div className=\"w-full bg-gray-200 rounded-full h-4\">\n          <div\n            className={`h-4 rounded-full transition-all ${\n              progressPercent === 100\n                ? 'bg-green-600'\n                : progressPercent >= 50\n                ? 'bg-blue-600'\n                : 'bg-yellow-500'\n            }`}\n            style={{ width: `${progressPercent}%` }}\n          ></div>\n        </div>\n        <div className=\"flex items-center justify-between mt-2\">\n          <span className=\"text-sm text-gray-600\">{progressPercent}% complete</span>\n          {progressPercent === 100 && (\n            <span className=\"text-sm font-semibold text-green-600\">\n              Assessment Complete! ðŸŽ‰\n            </span>\n          )}\n        </div>\n        {progressPercent === 100 && (\n          <p className=\"text-xs text-gray-500 mt-1\">All questions answered âœ“</p>\n        )}\n      </div>\n\n      {/* Continue Assessment Card (Only show if not complete) */}\n      {progressPercent < 100 && (\n        <div className=\"bg-gradient-to-r from-blue-50 to-blue-100 border-2 border-blue-300 rounded-lg p-6 mb-8\">\n          <h2 className=\"text-xl font-bold text-blue-900 mb-2\">\n            {assessment?.answered_questions === 0 ? 'Ready to Begin?' : 'Continue Your Assessment'}\n          </h2>\n          <p className=\"text-blue-700 mb-4\">\n            {assessment?.answered_questions === 0\n              ? `Complete all ${allQuestions.length} questions to get your exit readiness score`\n              : `You've answered ${assessment?.answered_questions} of ${allQuestions.length} questions`}\n          </p>\n          <button\n            onClick={() => {\n              if (allQuestions.length === 0) {\n                alert('Loading questions... Please try again in a moment.');\n                fetchQuestions();\n              } else {\n                setShowAssessmentModal(true);\n              }\n            }}\n            className=\"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition font-semibold\"\n          >\n            {assessment?.answered_questions === 0 ? 'Start Assessment' : 'Continue Assessment'}\n          </button>\n        </div>\n      )}\n\n      {/* Assessment Results (Only show if complete) */}\n      {progressPercent === 100 && assessment && (\n        <div className=\"bg-white rounded-lg border-2 border-gray-200 p-6 mb-8\">\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Your Exit Readiness Score</h2>\n          \n          {/* Overall Score */}\n          <div className={`rounded-lg p-6 mb-6 border-2 ${getScoreBgColor(assessment.overall_score)}`}>\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-800 mb-1\">Overall Score</h3>\n                <p className=\"text-sm text-gray-600\">Combined readiness across all categories</p>\n              </div>\n              <div className={`text-5xl font-bold ${getScoreColor(assessment.overall_score)}`}>\n                {assessment.overall_score}\n              </div>\n            </div>\n          </div>\n\n          {/* Category Scores */}\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"bg-white border-2 border-gray-200 rounded-lg p-4\">\n              <h4 className=\"font-semibold text-gray-700 mb-2\">Financial</h4>\n              <div className={`text-3xl font-bold ${getScoreColor(assessment.financial_score)}`}>\n                {assessment.financial_score}\n              </div>\n            </div>\n            <div className=\"bg-white border-2 border-gray-200 rounded-lg p-4\">\n              <h4 className=\"font-semibold text-gray-700 mb-2\">Operational</h4>\n              <div className={`text-3xl font-bold ${getScoreColor(assessment.operational_score)}`}>\n                {assessment.operational_score}\n              </div>\n            </div>\n            <div className=\"bg-white border-2 border-gray-200 rounded-lg p-4\">\n              <h4 className=\"font-semibold text-gray-700 mb-2\">Dependency</h4>\n              <div className={`text-3xl font-bold ${getScoreColor(assessment.dependency_score)}`}>\n                {assessment.dependency_score}\n              </div>\n            </div>\n          </div>\n\n          {/* Action Buttons */}\n          <div className=\"flex flex-wrap gap-3 mt-6\">\n            <button\n              onClick={exportToPDF}\n              className=\"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition\"\n            >\n              <Download size={18} />\n              <span>Generate PDF Report</span>\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Retake Assessment Button (Only show if complete) */}\n      {progressPercent === 100 && (\n        <div className=\"mb-8\">\n          <button\n            onClick={handleRetakeAssessment}\n            className=\"flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition font-semibold w-full md:w-auto justify-center\"\n          >\n            <RefreshCw size={20} />\n            <span>Retake Assessment</span>\n          </button>\n        </div>\n      )}\n\n      {/* Assessment History Section */}\n      <div className=\"bg-white rounded-lg border-2 border-gray-200 overflow-hidden\">\n        {/* History Header (Collapsible) */}\n        <button\n          onClick={toggleHistory}\n          className=\"w-full flex items-center justify-between p-6 hover:bg-gray-50 transition\"\n        >\n          <div className=\"flex items-center space-x-3\">\n            <History size={24} className=\"text-gray-600\" />\n            <div className=\"text-left\">\n              <h2 className=\"text-xl font-bold text-gray-900\">Assessment History</h2>\n              <p className=\"text-sm text-gray-600\">View your previous assessments and track progress over time</p>\n            </div>\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            {assessmentHistory.length > 0 && (\n              <span className=\"bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-1 rounded-full\">\n                {assessmentHistory.length}\n              </span>\n            )}\n            {showHistory ? <ChevronUp size={20} /> : <ChevronDown size={20} />}\n          </div>\n        </button>\n\n        {/* History Content */}\n        {showHistory && (\n          <div className=\"border-t border-gray-200 p-6\">\n            {historyLoading ? (\n              <div className=\"flex items-center justify-center py-8\">\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n              </div>\n            ) : assessmentHistory.length === 0 ? (\n              <div className=\"text-center py-8\">\n                <History size={48} className=\"text-gray-300 mx-auto mb-3\" />\n                <p className=\"text-gray-500\">No previous assessments found</p>\n                <p className=\"text-sm text-gray-400 mt-1\">\n                  Complete your first assessment to start tracking your progress\n                </p>\n              </div>\n            ) : (\n              <div className=\"space-y-4\">\n                {assessmentHistory.map((historicalAssessment, index) => (\n                  <div\n                    key={historicalAssessment.id}\n                    className=\"border-2 border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:shadow-md transition\"\n                  >\n                    <div className=\"flex items-start justify-between mb-3\">\n                      <div className=\"flex items-center space-x-3\">\n                        <div className=\"bg-blue-100 text-blue-800 rounded-full w-10 h-10 flex items-center justify-center font-bold\">\n                          #{assessmentHistory.length - index}\n                        </div>\n                        <div>\n                          <div className=\"flex items-center space-x-2\">\n                            <Calendar size={16} className=\"text-gray-400\" />\n                            <span className=\"text-sm font-semibold text-gray-700\">\n                              {new Date(historicalAssessment.completed_at).toLocaleDateString('en-US', {\n                                year: 'numeric',\n                                month: 'long',\n                                day: 'numeric'\n                              })}\n                            </span>\n                          </div>\n                          <p className=\"text-xs text-gray-500 mt-1\">\n                            Completed {Math.floor((new Date() - new Date(historicalAssessment.completed_at)) / (1000 * 60 * 60 * 24))} days ago\n                          </p>\n                        </div>\n                      </div>\n                      <div className={`text-2xl font-bold ${getScoreColor(historicalAssessment.overall_score)}`}>\n                        {historicalAssessment.overall_score}\n                      </div>\n                    </div>\n\n                    {/* Score Breakdown */}\n                    <div className=\"grid grid-cols-3 gap-3 mb-3\">\n                      <div className=\"text-center\">\n                        <p className=\"text-xs text-gray-600 mb-1\">Financial</p>\n                        <p className={`text-lg font-bold ${getScoreColor(historicalAssessment.financial_score)}`}>\n                          {historicalAssessment.financial_score}\n                        </p>\n                      </div>\n                      <div className=\"text-center\">\n                        <p className=\"text-xs text-gray-600 mb-1\">Operational</p>\n                        <p className={`text-lg font-bold ${getScoreColor(historicalAssessment.operational_score)}`}>\n                          {historicalAssessment.operational_score}\n                        </p>\n                      </div>\n                      <div className=\"text-center\">\n                        <p className=\"text-xs text-gray-600 mb-1\">Dependency</p>\n                        <p className={`text-lg font-bold ${getScoreColor(historicalAssessment.dependency_score)}`}>\n                          {historicalAssessment.dependency_score}\n                        </p>\n                      </div>\n                    </div>\n\n                    {/* Comparison with Current (if not the current assessment) */}\n                    {index > 0 && (\n                      <div className=\"bg-blue-50 rounded-lg p-3 mb-3\">\n                        <div className=\"flex items-center space-x-2 text-sm\">\n                          <TrendingUp size={16} className=\"text-blue-600\" />\n                          <span className=\"text-gray-700\">\n                            Change from previous:{' '}\n                            <span className={historicalAssessment.overall_score > assessmentHistory[index - 1].overall_score ? 'text-green-600 font-semibold' : historicalAssessment.overall_score < assessmentHistory[index - 1].overall_score ? 'text-red-600 font-semibold' : 'text-gray-600 font-semibold'}>\n                              {historicalAssessment.overall_score > assessmentHistory[index - 1].overall_score ? '+' : ''}\n                              {historicalAssessment.overall_score - assessmentHistory[index - 1].overall_score} points\n                            </span>\n                          </span>\n                        </div>\n                      </div>\n                    )}\n\n                    {/* Action Button */}\n                    <button\n                      onClick={() => handleViewHistoricalAssessment(historicalAssessment.id)}\n                      className=\"text-blue-600 hover:text-blue-800 text-sm font-semibold hover:underline\"\n                    >\n                      View Full Details â†’\n                    </button>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Assessment Modal */}\n      {showAssessmentModal && (\n        <AssessmentModal\n          questions={allQuestions}\n          assessmentId={assessment?.id}\n          onClose={() => setShowAssessmentModal(false)}\n          onComplete={() => {\n            fetchAssessment();\n            setShowAssessmentModal(false);\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default GapAnalysis;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}