{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Cameron\\\\projects\\\\exitready-pro\\\\frontend\\\\src\\\\components\\\\AdvancedValuationModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { X, TrendingUp, DollarSign, BarChart3, Percent, HelpCircle, Calculator } from 'lucide-react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, BarChart, Bar } from 'recharts';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdvancedValuationModal = ({\n  isOpen,\n  onClose,\n  onSubmit\n}) => {\n  _s();\n  const [currentYear] = useState(new Date().getFullYear());\n  const years = [currentYear - 3, currentYear - 2, currentYear - 1, currentYear];\n  const [industries, setIndustries] = useState([]);\n  const [selectedIndustry, setSelectedIndustry] = useState(localStorage.getItem('advancedValuationIndustry') || '');\n  const [privateDiscount, setPrivateDiscount] = useState(parseFloat(localStorage.getItem('advancedValuationDiscount')) || 25);\n  const [financialData, setFinancialData] = useState(() => {\n    // Try to load saved data\n    const saved = localStorage.getItem('advancedValuationData');\n    if (saved) {\n      try {\n        const parsed = JSON.parse(saved);\n        // Merge saved data with complete structure to ensure all fields exist\n        const complete = {\n          revenue: years.reduce((acc, year) => {\n            var _parsed$revenue;\n            return {\n              ...acc,\n              [year]: ((_parsed$revenue = parsed.revenue) === null || _parsed$revenue === void 0 ? void 0 : _parsed$revenue[year]) || ''\n            };\n          }, {}),\n          ebitda: years.reduce((acc, year) => {\n            var _parsed$ebitda;\n            return {\n              ...acc,\n              [year]: ((_parsed$ebitda = parsed.ebitda) === null || _parsed$ebitda === void 0 ? void 0 : _parsed$ebitda[year]) || ''\n            };\n          }, {}),\n          sde: years.reduce((acc, year) => {\n            var _parsed$sde;\n            return {\n              ...acc,\n              [year]: ((_parsed$sde = parsed.sde) === null || _parsed$sde === void 0 ? void 0 : _parsed$sde[year]) || ''\n            };\n          }, {}),\n          gross_profit: years.reduce((acc, year) => {\n            var _parsed$gross_profit;\n            return {\n              ...acc,\n              [year]: ((_parsed$gross_profit = parsed.gross_profit) === null || _parsed$gross_profit === void 0 ? void 0 : _parsed$gross_profit[year]) || ''\n            };\n          }, {}),\n          total_assets: years.reduce((acc, year) => {\n            var _parsed$total_assets;\n            return {\n              ...acc,\n              [year]: ((_parsed$total_assets = parsed.total_assets) === null || _parsed$total_assets === void 0 ? void 0 : _parsed$total_assets[year]) || ''\n            };\n          }, {}),\n          total_liabilities_equity: years.reduce((acc, year) => {\n            var _parsed$total_liabili;\n            return {\n              ...acc,\n              [year]: ((_parsed$total_liabili = parsed.total_liabilities_equity) === null || _parsed$total_liabili === void 0 ? void 0 : _parsed$total_liabili[year]) || ''\n            };\n          }, {}),\n          owner_compensation: years.reduce((acc, year) => {\n            var _parsed$owner_compens;\n            return {\n              ...acc,\n              [year]: ((_parsed$owner_compens = parsed.owner_compensation) === null || _parsed$owner_compens === void 0 ? void 0 : _parsed$owner_compens[year]) || ''\n            };\n          }, {}),\n          non_recurring_expenses: years.reduce((acc, year) => {\n            var _parsed$non_recurring;\n            return {\n              ...acc,\n              [year]: ((_parsed$non_recurring = parsed.non_recurring_expenses) === null || _parsed$non_recurring === void 0 ? void 0 : _parsed$non_recurring[year]) || ''\n            };\n          }, {}),\n          capital_expenditures: years.reduce((acc, year) => {\n            var _parsed$capital_expen;\n            return {\n              ...acc,\n              [year]: ((_parsed$capital_expen = parsed.capital_expenditures) === null || _parsed$capital_expen === void 0 ? void 0 : _parsed$capital_expen[year]) || ''\n            };\n          }, {}),\n          depreciation: years.reduce((acc, year) => ({\n            ...acc,\n            [year]: ''\n          }), {}),\n          ebit: years.reduce((acc, year) => ({\n            ...acc,\n            [year]: ''\n          }), {}),\n          profit_after_tax: years.reduce((acc, year) => ({\n            ...acc,\n            [year]: ''\n          }), {}),\n          // Balance sheet fields\n          cash: years.reduce((acc, year) => {\n            var _parsed$cash;\n            return {\n              ...acc,\n              [year]: ((_parsed$cash = parsed.cash) === null || _parsed$cash === void 0 ? void 0 : _parsed$cash[year]) || ''\n            };\n          }, {}),\n          current_assets: years.reduce((acc, year) => {\n            var _parsed$current_asset;\n            return {\n              ...acc,\n              [year]: ((_parsed$current_asset = parsed.current_assets) === null || _parsed$current_asset === void 0 ? void 0 : _parsed$current_asset[year]) || ''\n            };\n          }, {}),\n          non_current_assets: years.reduce((acc, year) => {\n            var _parsed$non_current_a;\n            return {\n              ...acc,\n              [year]: ((_parsed$non_current_a = parsed.non_current_assets) === null || _parsed$non_current_a === void 0 ? void 0 : _parsed$non_current_a[year]) || ''\n            };\n          }, {}),\n          long_term_debt: years.reduce((acc, year) => {\n            var _parsed$long_term_deb;\n            return {\n              ...acc,\n              [year]: ((_parsed$long_term_deb = parsed.long_term_debt) === null || _parsed$long_term_deb === void 0 ? void 0 : _parsed$long_term_deb[year]) || ''\n            };\n          }, {}),\n          short_term_debt: years.reduce((acc, year) => {\n            var _parsed$short_term_de;\n            return {\n              ...acc,\n              [year]: ((_parsed$short_term_de = parsed.short_term_debt) === null || _parsed$short_term_de === void 0 ? void 0 : _parsed$short_term_de[year]) || ''\n            };\n          }, {}),\n          interest_bearing_debt: years.reduce((acc, year) => {\n            var _parsed$interest_bear;\n            return {\n              ...acc,\n              [year]: ((_parsed$interest_bear = parsed.interest_bearing_debt) === null || _parsed$interest_bear === void 0 ? void 0 : _parsed$interest_bear[year]) || ''\n            };\n          }, {}),\n          equity: years.reduce((acc, year) => {\n            var _parsed$equity;\n            return {\n              ...acc,\n              [year]: ((_parsed$equity = parsed.equity) === null || _parsed$equity === void 0 ? void 0 : _parsed$equity[year]) || ''\n            };\n          }, {}),\n          total_liabilities: years.reduce((acc, year) => {\n            var _parsed$total_liabili2;\n            return {\n              ...acc,\n              [year]: ((_parsed$total_liabili2 = parsed.total_liabilities) === null || _parsed$total_liabili2 === void 0 ? void 0 : _parsed$total_liabili2[year]) || ''\n            };\n          }, {}),\n          // Add-backs fields\n          owner_salary: years.reduce((acc, year) => {\n            var _parsed$owner_salary;\n            return {\n              ...acc,\n              [year]: ((_parsed$owner_salary = parsed.owner_salary) === null || _parsed$owner_salary === void 0 ? void 0 : _parsed$owner_salary[year]) || ''\n            };\n          }, {}),\n          family_salaries: years.reduce((acc, year) => {\n            var _parsed$family_salari;\n            return {\n              ...acc,\n              [year]: ((_parsed$family_salari = parsed.family_salaries) === null || _parsed$family_salari === void 0 ? void 0 : _parsed$family_salari[year]) || ''\n            };\n          }, {}),\n          salary_adjustments: years.reduce((acc, year) => {\n            var _parsed$salary_adjust;\n            return {\n              ...acc,\n              [year]: ((_parsed$salary_adjust = parsed.salary_adjustments) === null || _parsed$salary_adjust === void 0 ? void 0 : _parsed$salary_adjust[year]) || ''\n            };\n          }, {}),\n          auto_expenses: years.reduce((acc, year) => {\n            var _parsed$auto_expenses;\n            return {\n              ...acc,\n              [year]: ((_parsed$auto_expenses = parsed.auto_expenses) === null || _parsed$auto_expenses === void 0 ? void 0 : _parsed$auto_expenses[year]) || ''\n            };\n          }, {}),\n          donations: years.reduce((acc, year) => {\n            var _parsed$donations;\n            return {\n              ...acc,\n              [year]: ((_parsed$donations = parsed.donations) === null || _parsed$donations === void 0 ? void 0 : _parsed$donations[year]) || ''\n            };\n          }, {}),\n          insurance_premiums: years.reduce((acc, year) => {\n            var _parsed$insurance_pre;\n            return {\n              ...acc,\n              [year]: ((_parsed$insurance_pre = parsed.insurance_premiums) === null || _parsed$insurance_pre === void 0 ? void 0 : _parsed$insurance_pre[year]) || ''\n            };\n          }, {}),\n          inventory_adjustments: years.reduce((acc, year) => {\n            var _parsed$inventory_adj;\n            return {\n              ...acc,\n              [year]: ((_parsed$inventory_adj = parsed.inventory_adjustments) === null || _parsed$inventory_adj === void 0 ? void 0 : _parsed$inventory_adj[year]) || ''\n            };\n          }, {}),\n          meals_entertainment: years.reduce((acc, year) => {\n            var _parsed$meals_enterta;\n            return {\n              ...acc,\n              [year]: ((_parsed$meals_enterta = parsed.meals_entertainment) === null || _parsed$meals_enterta === void 0 ? void 0 : _parsed$meals_enterta[year]) || ''\n            };\n          }, {}),\n          personal_expenses: years.reduce((acc, year) => {\n            var _parsed$personal_expe;\n            return {\n              ...acc,\n              [year]: ((_parsed$personal_expe = parsed.personal_expenses) === null || _parsed$personal_expe === void 0 ? void 0 : _parsed$personal_expe[year]) || ''\n            };\n          }, {}),\n          phone_internet: years.reduce((acc, year) => {\n            var _parsed$phone_interne;\n            return {\n              ...acc,\n              [year]: ((_parsed$phone_interne = parsed.phone_internet) === null || _parsed$phone_interne === void 0 ? void 0 : _parsed$phone_interne[year]) || ''\n            };\n          }, {}),\n          non_business_services: years.reduce((acc, year) => {\n            var _parsed$non_business_;\n            return {\n              ...acc,\n              [year]: ((_parsed$non_business_ = parsed.non_business_services) === null || _parsed$non_business_ === void 0 ? void 0 : _parsed$non_business_[year]) || ''\n            };\n          }, {}),\n          travel: years.reduce((acc, year) => {\n            var _parsed$travel;\n            return {\n              ...acc,\n              [year]: ((_parsed$travel = parsed.travel) === null || _parsed$travel === void 0 ? void 0 : _parsed$travel[year]) || ''\n            };\n          }, {}),\n          one_time_charges: years.reduce((acc, year) => {\n            var _parsed$one_time_char;\n            return {\n              ...acc,\n              [year]: ((_parsed$one_time_char = parsed.one_time_charges) === null || _parsed$one_time_char === void 0 ? void 0 : _parsed$one_time_char[year]) || ''\n            };\n          }, {}),\n          retirement: years.reduce((acc, year) => {\n            var _parsed$retirement;\n            return {\n              ...acc,\n              [year]: ((_parsed$retirement = parsed.retirement) === null || _parsed$retirement === void 0 ? void 0 : _parsed$retirement[year]) || ''\n            };\n          }, {}),\n          supplier_rebates: years.reduce((acc, year) => {\n            var _parsed$supplier_reba;\n            return {\n              ...acc,\n              [year]: ((_parsed$supplier_reba = parsed.supplier_rebates) === null || _parsed$supplier_reba === void 0 ? void 0 : _parsed$supplier_reba[year]) || ''\n            };\n          }, {}),\n          other_addbacks: years.reduce((acc, year) => {\n            var _parsed$other_addback;\n            return {\n              ...acc,\n              [year]: ((_parsed$other_addback = parsed.other_addbacks) === null || _parsed$other_addback === void 0 ? void 0 : _parsed$other_addback[year]) || ''\n            };\n          }, {}),\n          addbacks_total: years.reduce((acc, year) => {\n            var _parsed$addbacks_tota;\n            return {\n              ...acc,\n              [year]: ((_parsed$addbacks_tota = parsed.addbacks_total) === null || _parsed$addbacks_tota === void 0 ? void 0 : _parsed$addbacks_tota[year]) || ''\n            };\n          }, {})\n        };\n        return complete;\n      } catch (e) {\n        console.error('Error loading saved data:', e);\n      }\n    }\n\n    // Default structure if nothing saved\n    return {\n      revenue: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      ebitda: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      sde: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      gross_profit: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      total_assets: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      total_liabilities_equity: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      owner_compensation: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      non_recurring_expenses: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      capital_expenditures: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      cash: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      current_assets: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      non_current_assets: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      long_term_debt: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      short_term_debt: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      interest_bearing_debt: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      equity: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      total_liabilities: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      owner_salary: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      family_salaries: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      salary_adjustments: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      auto_expenses: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      donations: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      insurance_premiums: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      inventory_adjustments: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      meals_entertainment: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      personal_expenses: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      phone_internet: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      non_business_services: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      travel: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      one_time_charges: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      retirement: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      supplier_rebates: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      other_addbacks: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      addbacks_total: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      depreciation: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      ebit: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {}),\n      profit_after_tax: years.reduce((acc, year) => ({\n        ...acc,\n        [year]: ''\n      }), {})\n    };\n  });\n  const [activeTab, setActiveTab] = useState('settings');\n  useEffect(() => {\n    if (isOpen) {\n      fetchIndustries();\n    }\n  }, [isOpen]);\n\n  // Auto-calculate SDE, add-backs total, and balance sheet totals\n  useEffect(() => {\n    const newData = {\n      ...financialData\n    };\n    let updated = false;\n    years.forEach(year => {\n      // Calculate total add-backs (only if these fields exist)\n      const addBackFields = ['owner_salary', 'family_salaries', 'salary_adjustments', 'auto_expenses', 'donations', 'insurance_premiums', 'inventory_adjustments', 'meals_entertainment', 'personal_expenses', 'phone_internet', 'non_business_services', 'travel', 'one_time_charges', 'retirement', 'supplier_rebates', 'other_addbacks'];\n      const totalAddBacks = addBackFields.reduce((sum, field) => {\n        // Check if field exists before accessing\n        if (financialData[field] && financialData[field][year] !== undefined) {\n          return sum + (parseFloat(financialData[field][year]) || 0);\n        }\n        return sum;\n      }, 0);\n\n      // Only update if addbacks_total field exists\n      if (financialData.addbacks_total) {\n        if (totalAddBacks !== parseFloat(newData.addbacks_total[year] || 0)) {\n          newData.addbacks_total[year] = totalAddBacks.toString();\n          updated = true;\n        }\n      }\n\n      // Calculate SDE = EBITDA + Add-backs Total (only if fields exist)\n      if (financialData.ebitda && financialData.sde) {\n        const ebitda = parseFloat(financialData.ebitda[year]) || 0;\n        const calculatedSDE = ebitda + totalAddBacks;\n        if (calculatedSDE !== parseFloat(newData.sde[year] || 0)) {\n          newData.sde[year] = calculatedSDE.toString();\n          updated = true;\n        }\n      }\n\n      // Calculate Total Assets (only if fields exist)\n      if (financialData.cash && financialData.current_assets && financialData.non_current_assets && financialData.total_assets) {\n        const cash = parseFloat(financialData.cash[year]) || 0;\n        const currentAssets = parseFloat(financialData.current_assets[year]) || 0;\n        const nonCurrentAssets = parseFloat(financialData.non_current_assets[year]) || 0;\n        const totalAssets = cash + currentAssets + nonCurrentAssets;\n        if (totalAssets !== parseFloat(newData.total_assets[year] || 0)) {\n          newData.total_assets[year] = totalAssets.toString();\n          updated = true;\n        }\n      }\n\n      // Calculate Total Liabilities (only if fields exist)\n      if (financialData.long_term_debt && financialData.short_term_debt && financialData.interest_bearing_debt && financialData.total_liabilities) {\n        const longTermDebt = parseFloat(financialData.long_term_debt[year]) || 0;\n        const shortTermDebt = parseFloat(financialData.short_term_debt[year]) || 0;\n        const interestBearingDebt = parseFloat(financialData.interest_bearing_debt[year]) || 0;\n        const totalLiabilities = longTermDebt + shortTermDebt + interestBearingDebt;\n        if (totalLiabilities !== parseFloat(newData.total_liabilities[year] || 0)) {\n          newData.total_liabilities[year] = totalLiabilities.toString();\n          updated = true;\n        }\n      }\n\n      // Calculate Total Liabilities & Equity (only if fields exist)\n      if (financialData.total_liabilities && financialData.equity && financialData.total_liabilities_equity) {\n        const totalLiabilities = parseFloat(financialData.total_liabilities[year]) || 0;\n        const equity = parseFloat(financialData.equity[year]) || 0;\n        const totalLiabilitiesEquity = totalLiabilities + equity;\n        if (totalLiabilitiesEquity !== parseFloat(newData.total_liabilities_equity[year] || 0)) {\n          newData.total_liabilities_equity[year] = totalLiabilitiesEquity.toString();\n          updated = true;\n        }\n      }\n    });\n    if (updated) {\n      setFinancialData(newData);\n    }\n  }, [financialData.ebitda, financialData.owner_salary, financialData.family_salaries, financialData.cash, financialData.current_assets, financialData.non_current_assets, financialData.long_term_debt, financialData.short_term_debt, financialData.interest_bearing_debt, financialData.equity]);\n  const fetchIndustries = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get('http://localhost:5000/api/valuation/industries', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setIndustries(response.data.industries);\n    } catch (err) {\n      console.error('Error fetching industries:', err);\n    }\n  };\n  const handleInputChange = (field, year, value) => {\n    setFinancialData(prev => ({\n      ...prev,\n      [field]: {\n        ...prev[field],\n        [year]: value\n      }\n    }));\n\n    // Save to localStorage after update\n    setTimeout(() => {\n      const updated = {\n        ...financialData,\n        [field]: {\n          ...financialData[field],\n          [year]: value\n        }\n      };\n      localStorage.setItem('advancedValuationData', JSON.stringify(updated));\n    }, 100);\n  };\n  const formatCurrency = value => {\n    if (!value) return '$0';\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }).format(value);\n  };\n  const prepareChartData = () => {\n    return years.map(year => ({\n      year: year.toString(),\n      'Gross Profit': parseFloat(financialData.gross_profit[year]) || 0,\n      'EBITDA': parseFloat(financialData.ebitda[year]) || 0,\n      'SDE': parseFloat(financialData.sde[year]) || 0\n    }));\n  };\n\n  // Calculate financial ratios\n  const calculateRatios = year => {\n    const revenue = parseFloat(financialData.revenue[year]) || 0;\n    const grossProfit = parseFloat(financialData.gross_profit[year]) || 0;\n    const ebitda = parseFloat(financialData.ebitda[year]) || 0;\n    const currentAssets = parseFloat(financialData.current_assets[year]) || 0;\n    const cash = parseFloat(financialData.cash[year]) || 0;\n    const totalAssets = parseFloat(financialData.total_assets[year]) || 0;\n    const totalLiabilities = parseFloat(financialData.total_liabilities[year]) || 0;\n    const equity = parseFloat(financialData.equity[year]) || 0;\n    const shortTermDebt = parseFloat(financialData.short_term_debt[year]) || 0;\n    return {\n      // Profitability Ratios\n      grossMargin: revenue > 0 ? grossProfit / revenue * 100 : 0,\n      ebitdaMargin: revenue > 0 ? ebitda / revenue * 100 : 0,\n      // Liquidity Ratios\n      currentRatio: shortTermDebt > 0 ? currentAssets / shortTermDebt : 0,\n      cashRatio: shortTermDebt > 0 ? cash / shortTermDebt : 0,\n      // Leverage Ratios\n      debtToEquity: equity > 0 ? totalLiabilities / equity : 0,\n      debtToAssets: totalAssets > 0 ? totalLiabilities / totalAssets * 100 : 0,\n      // Efficiency Ratios\n      assetTurnover: totalAssets > 0 ? revenue / totalAssets : 0,\n      roa: totalAssets > 0 ? ebitda / totalAssets * 100 : 0,\n      roe: equity > 0 ? ebitda / equity * 100 : 0\n    };\n  };\n  const handleSubmit = () => {\n    const submissionData = {\n      ...financialData,\n      industry_id: selectedIndustry,\n      private_company_discount: privateDiscount / 100\n    };\n\n    // Save settings to localStorage\n    localStorage.setItem('advancedValuationIndustry', selectedIndustry);\n    localStorage.setItem('advancedValuationDiscount', privateDiscount.toString());\n    onSubmit(submissionData);\n  };\n  if (!isOpen) return null;\n  const chartData = prepareChartData();\n  const selectedIndustryData = industries.find(ind => ind.id === parseInt(selectedIndustry));\n\n  // Tooltip component\n  const HelpTooltip = ({\n    text\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"group relative inline-block ml-1\",\n    children: [/*#__PURE__*/_jsxDEV(HelpCircle, {\n      size: 14,\n      className: \"inline text-blue-600 cursor-help\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"invisible group-hover:visible absolute z-50 w-64 p-2 bg-gray-900 text-white text-xs rounded shadow-lg -top-2 left-6\",\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 318,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg w-full max-w-7xl max-h-[95vh] overflow-hidden flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 border-b border-gray-200 flex justify-between items-center bg-gradient-to-r from-blue-600 to-indigo-600\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n            className: \"text-white\",\n            size: 28\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-bold text-white\",\n              children: \"Advanced Financial Analysis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-blue-100 text-sm\",\n              children: \"Multi-year detailed valuation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-white hover:bg-white/20 p-2 rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-b border-gray-200 bg-gray-50\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex overflow-x-auto\",\n          children: ['settings', 'income', 'balance', 'addbacks', 'ratios', 'charts'].map(tab => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab(tab),\n            className: `px-6 py-4 font-semibold transition-colors whitespace-nowrap flex-shrink-0 ${activeTab === tab ? 'bg-white text-blue-600 border-b-2 border-blue-600' : 'text-gray-600 hover:bg-gray-100'}`,\n            children: [tab === 'settings' && '⚙️ Settings', tab === 'income' && '📊 Income', tab === 'balance' && '🏦 Balance', tab === 'addbacks' && '➕ Add-backs', tab === 'ratios' && '🔢 Ratios', tab === 'charts' && '📈 Charts']\n          }, tab, true, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-y-auto p-6\",\n        children: [activeTab === 'settings' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-900 mb-4\",\n            children: \"Valuation Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Industry *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedIndustry,\n              onChange: e => setSelectedIndustry(e.target.value),\n              className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select your industry...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 19\n              }, this), industries.map(industry => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: industry.id,\n                children: industry.industry_name\n              }, industry.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 17\n            }, this), selectedIndustryData && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2 p-3 bg-blue-50 rounded-lg text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium text-blue-900\",\n                children: \"Industry Multiples (Public Companies):\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-blue-700\",\n                children: [\"EV/EBITDA: \", selectedIndustryData.ev_ebitda.median, \"x | EV/Revenue: \", selectedIndustryData.ev_revenue.median, \"x | P/E: \", selectedIndustryData.pe.median, \"x\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6 p-4 bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(Percent, {\n                  className: \"text-purple-600\",\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"text-sm font-semibold text-gray-800\",\n                  children: \"Private Company Discount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 403,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-2xl font-bold text-purple-600\",\n                children: [privateDiscount, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              min: \"0\",\n              max: \"50\",\n              step: \"5\",\n              value: privateDiscount,\n              onChange: e => setPrivateDiscount(parseInt(e.target.value)),\n              className: \"w-full h-3 rounded-lg appearance-none cursor-pointer\",\n              style: {\n                background: `linear-gradient(to right, #9333ea 0%, #9333ea ${privateDiscount * 2}%, #e9d5ff ${privateDiscount * 2}%, #e9d5ff 100%)`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between text-xs text-gray-600 mt-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"0%\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"25%\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"50%\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 17\n            }, this), selectedIndustryData && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3 pt-3 border-t border-purple-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs font-medium text-gray-700 mb-1\",\n                children: \"Adjusted Multiples:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-purple-700 font-semibold\",\n                children: [\"EV/EBITDA: \", (selectedIndustryData.ev_ebitda.median * (1 - privateDiscount / 100)).toFixed(1), \"x | EV/Revenue: \", (selectedIndustryData.ev_revenue.median * (1 - privateDiscount / 100)).toFixed(1), \"x\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-50 border border-blue-200 rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold text-blue-900 mb-2\",\n              children: \"\\uD83D\\uDCA1 Next Steps\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n              className: \"text-sm text-blue-800 space-y-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"1. Select your industry above\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"2. Adjust the private company discount if needed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"3. Go to \\\"Income\\\" tab and enter financial data\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"4. Go to \\\"Balance\\\" tab (auto-calculates totals)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"5. Go to \\\"Add-backs\\\" tab to adjust EBITDA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"6. View \\\"Ratios\\\" tab for financial health metrics\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"7. View \\\"Charts\\\" tab to see trends\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"8. Click \\\"Calculate\\\" when ready\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 452,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 13\n        }, this), activeTab === 'income' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"w-full border-collapse\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"bg-gray-100\",\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"text-left p-3 border\",\n                  children: \"Line Item\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 21\n                }, this), years.map(y => /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"p-3 border\",\n                  children: y\n                }, y, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 465,\n                  columnNumber: 37\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: [{\n                label: 'Revenue/Income',\n                field: 'revenue',\n                help: 'Total sales or income generated by the business.'\n              }, {\n                label: 'Gross Profit',\n                field: 'gross_profit',\n                help: 'Revenue minus Cost of Goods Sold (COGS). Shows profitability before operating expenses.'\n              }, {\n                label: 'EBITDA',\n                field: 'ebitda',\n                help: 'Earnings Before Interest, Tax, Depreciation, and Amortization. Key metric for business valuation.'\n              }, {\n                label: 'Depreciation/Amortization',\n                field: 'depreciation',\n                help: 'Non-cash expenses for asset depreciation and intangible asset amortization.'\n              }, {\n                label: 'EBIT',\n                field: 'ebit',\n                help: 'Earnings Before Interest and Tax (EBITDA minus Depreciation/Amortization). Operating profit.'\n              }, {\n                label: 'Profit After Tax',\n                field: 'profit_after_tax',\n                help: 'Net income after all expenses and taxes.'\n              }, {\n                label: 'Add-backs Total',\n                field: 'addbacks_total',\n                help: 'Auto-calculated sum of all add-backs from the Add-backs tab.',\n                readonly: true\n              }, {\n                label: \"Seller's Discretionary Earnings (SDE)\",\n                field: 'sde',\n                help: 'Auto-calculated as EBITDA + Add-backs. Represents true owner earnings available to a new buyer.',\n                readonly: true\n              }].map((item, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: idx % 2 === 0 ? 'bg-white' : 'bg-gray-50',\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-3 border font-medium\",\n                  children: [item.label, item.help && /*#__PURE__*/_jsxDEV(HelpTooltip, {\n                    text: item.help\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 504,\n                    columnNumber: 39\n                  }, this), item.readonly && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 text-xs text-green-600\",\n                    children: \"(Auto)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 505,\n                    columnNumber: 43\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 502,\n                  columnNumber: 23\n                }, this), years.map(year => /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-2 border\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    value: financialData[item.field][year],\n                    onChange: e => handleInputChange(item.field, year, e.target.value),\n                    className: `w-full px-2 py-1 border rounded ${item.readonly ? 'bg-gray-100 cursor-not-allowed' : ''}`,\n                    placeholder: \"$0\",\n                    readOnly: item.readonly,\n                    disabled: item.readonly\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 509,\n                    columnNumber: 27\n                  }, this)\n                }, year, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 508,\n                  columnNumber: 25\n                }, this))]\n              }, item.field, true, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 13\n        }, this), activeTab === 'balance' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"w-full border-collapse\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"bg-gray-100\",\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"text-left p-3 border\",\n                  children: \"Line Item\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 535,\n                  columnNumber: 21\n                }, this), years.map(y => /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"p-3 border\",\n                  children: y\n                }, y, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 536,\n                  columnNumber: 37\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 534,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 533,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: [{\n                label: 'Cash and Cash Equivalents',\n                field: 'cash',\n                help: 'Money in bank accounts, money market funds, and other highly liquid assets.'\n              }, {\n                label: 'Current Assets',\n                field: 'current_assets',\n                help: 'Assets that can be converted to cash within one year (inventory, accounts receivable, etc.).'\n              }, {\n                label: 'Non-Current Assets',\n                field: 'non_current_assets',\n                help: 'Long-term assets like property, equipment, patents, and goodwill.'\n              }, {\n                label: 'Total Assets',\n                field: 'total_assets',\n                help: 'Auto-calculated: Cash + Current Assets + Non-Current Assets. All resources owned by the business.',\n                readonly: true\n              }, {\n                label: 'Long-term Debt/Liabilities',\n                field: 'long_term_debt',\n                help: 'Debts and obligations due beyond one year (mortgages, bonds, long-term loans).'\n              }, {\n                label: 'Short-term Debt/Liabilities',\n                field: 'short_term_debt',\n                help: 'Debts due within one year (accounts payable, short-term loans, accrued expenses).'\n              }, {\n                label: 'Interest Bearing Debt',\n                field: 'interest_bearing_debt',\n                help: 'Debt that requires interest payments (excludes non-interest liabilities like accounts payable).'\n              }, {\n                label: 'Total Liabilities',\n                field: 'total_liabilities',\n                help: 'Auto-calculated: Long-term + Short-term + Interest Bearing Debt. All obligations owed.',\n                readonly: true\n              }, {\n                label: 'Equity',\n                field: 'equity',\n                help: \"Owner's equity or shareholders' equity. The residual interest in assets after deducting liabilities.\"\n              }, {\n                label: 'Total Liabilities & Equity',\n                field: 'total_liabilities_equity',\n                help: 'Auto-calculated: Total Liabilities + Equity. Should equal Total Assets.',\n                readonly: true\n              }].map((item, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: idx % 2 === 0 ? 'bg-white' : 'bg-gray-50',\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: `p-3 border font-medium ${item.readonly ? 'bg-blue-50' : ''}`,\n                  children: [item.label, item.help && /*#__PURE__*/_jsxDEV(HelpTooltip, {\n                    text: item.help\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 598,\n                    columnNumber: 39\n                  }, this), item.readonly && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 text-xs text-green-600\",\n                    children: \"(Auto)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 599,\n                    columnNumber: 43\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 596,\n                  columnNumber: 23\n                }, this), years.map(year => /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: `p-2 border ${item.readonly ? 'bg-blue-50' : ''}`,\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    value: financialData[item.field][year],\n                    onChange: e => handleInputChange(item.field, year, e.target.value),\n                    className: `w-full px-2 py-1 border rounded ${item.readonly ? 'bg-gray-100 cursor-not-allowed font-semibold' : ''}`,\n                    placeholder: \"$0\",\n                    readOnly: item.readonly,\n                    disabled: item.readonly\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 603,\n                    columnNumber: 27\n                  }, this)\n                }, year, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 602,\n                  columnNumber: 25\n                }, this))]\n              }, item.field, true, {\n                fileName: _jsxFileName,\n                lineNumber: 595,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 13\n        }, this), activeTab === 'addbacks' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold text-green-900 mb-2\",\n              children: \"\\uD83D\\uDCA1 What are Add-backs?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 627,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-green-800\",\n              children: \"Add-backs are expenses that can be added back to EBITDA because a new owner won't incur them. These automatically calculate your SDE (Seller's Discretionary Earnings).\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 628,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 626,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overflow-x-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"w-full border-collapse\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"bg-gray-100\",\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"text-left p-3 border\",\n                    children: \"Add-back Item\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 638,\n                    columnNumber: 23\n                  }, this), years.map(y => /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"p-3 border\",\n                    children: y\n                  }, y, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 639,\n                    columnNumber: 39\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 637,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 636,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: [{\n                  label: 'Owner Salary',\n                  field: 'owner_salary'\n                }, {\n                  label: 'Family Salaries',\n                  field: 'family_salaries'\n                }, {\n                  label: 'Salary Adjustments',\n                  field: 'salary_adjustments'\n                }, {\n                  label: 'Auto Expenses',\n                  field: 'auto_expenses'\n                }, {\n                  label: 'Donations',\n                  field: 'donations'\n                }, {\n                  label: 'Insurance Premiums',\n                  field: 'insurance_premiums'\n                }, {\n                  label: 'Inventory Adjustments',\n                  field: 'inventory_adjustments'\n                }, {\n                  label: 'Meals/Entertainment',\n                  field: 'meals_entertainment'\n                }, {\n                  label: 'Personal Expenses',\n                  field: 'personal_expenses'\n                }, {\n                  label: 'Phone/Internet',\n                  field: 'phone_internet'\n                }, {\n                  label: 'Non-business Services',\n                  field: 'non_business_services'\n                }, {\n                  label: 'Travel',\n                  field: 'travel'\n                }, {\n                  label: 'One-time Charges',\n                  field: 'one_time_charges'\n                }, {\n                  label: 'Retirement',\n                  field: 'retirement'\n                }, {\n                  label: 'Supplier Rebates',\n                  field: 'supplier_rebates'\n                }, {\n                  label: 'Other',\n                  field: 'other_addbacks'\n                }].map((item, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: idx % 2 === 0 ? 'bg-white' : 'bg-gray-50',\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"p-3 border font-medium\",\n                    children: item.label\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 662,\n                    columnNumber: 25\n                  }, this), years.map(year => /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"p-2 border\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      value: financialData[item.field][year],\n                      onChange: e => handleInputChange(item.field, year, e.target.value),\n                      className: \"w-full px-2 py-1 border rounded\",\n                      placeholder: \"$0\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 665,\n                      columnNumber: 29\n                    }, this)\n                  }, year, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 664,\n                    columnNumber: 27\n                  }, this))]\n                }, item.field, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 661,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 642,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 635,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 634,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 625,\n          columnNumber: 13\n        }, this), activeTab === 'ratios' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Calculator, {\n              className: \"text-blue-600\",\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 686,\n              columnNumber: 17\n            }, this), \"Financial Ratios Analysis\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 685,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n            children: years.map(year => {\n              const ratios = calculateRatios(year);\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border rounded-lg p-4 bg-gradient-to-br from-blue-50 to-indigo-50\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-lg font-bold text-blue-900 mb-4 border-b pb-2\",\n                  children: [year, \" Ratios\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 696,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"font-semibold text-gray-700 mb-2 flex items-center gap-1\",\n                    children: \"\\uD83D\\uDCB0 Profitability Ratios\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 702,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-2 text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [\"Gross Margin\", /*#__PURE__*/_jsxDEV(HelpTooltip, {\n                          text: \"Gross Profit / Revenue. Shows percentage of revenue retained after COGS. Higher is better (>40% is excellent).\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 709,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 707,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `font-bold ${ratios.grossMargin > 40 ? 'text-green-600' : ratios.grossMargin > 20 ? 'text-yellow-600' : 'text-red-600'}`,\n                        children: [ratios.grossMargin.toFixed(1), \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 711,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 706,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [\"EBITDA Margin\", /*#__PURE__*/_jsxDEV(HelpTooltip, {\n                          text: \"EBITDA / Revenue. Shows operating profitability. >15% is good, >25% is excellent.\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 718,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 716,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `font-bold ${ratios.ebitdaMargin > 25 ? 'text-green-600' : ratios.ebitdaMargin > 15 ? 'text-yellow-600' : 'text-red-600'}`,\n                        children: [ratios.ebitdaMargin.toFixed(1), \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 720,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 715,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 705,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 701,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"font-semibold text-gray-700 mb-2 flex items-center gap-1\",\n                    children: \"\\uD83D\\uDCA7 Liquidity Ratios\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 729,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-2 text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [\"Current Ratio\", /*#__PURE__*/_jsxDEV(HelpTooltip, {\n                          text: \"Current Assets / Short-term Debt. Measures ability to pay short-term obligations. >1.5 is healthy, >2.0 is strong.\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 736,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 734,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `font-bold ${ratios.currentRatio > 2 ? 'text-green-600' : ratios.currentRatio > 1 ? 'text-yellow-600' : 'text-red-600'}`,\n                        children: [ratios.currentRatio.toFixed(2), \"x\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 738,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 733,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [\"Cash Ratio\", /*#__PURE__*/_jsxDEV(HelpTooltip, {\n                          text: \"Cash / Short-term Debt. Most conservative liquidity measure. >0.5 is good.\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 745,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 743,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `font-bold ${ratios.cashRatio > 0.5 ? 'text-green-600' : ratios.cashRatio > 0.2 ? 'text-yellow-600' : 'text-red-600'}`,\n                        children: [ratios.cashRatio.toFixed(2), \"x\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 747,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 742,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 732,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 728,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"font-semibold text-gray-700 mb-2 flex items-center gap-1\",\n                    children: \"\\u2696\\uFE0F Leverage Ratios\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 756,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-2 text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [\"Debt-to-Equity\", /*#__PURE__*/_jsxDEV(HelpTooltip, {\n                          text: \"Total Liabilities / Equity. Shows financial leverage. <1.0 is conservative, <2.0 is moderate, >2.0 is aggressive.\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 763,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 761,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `font-bold ${ratios.debtToEquity < 1 ? 'text-green-600' : ratios.debtToEquity < 2 ? 'text-yellow-600' : 'text-red-600'}`,\n                        children: [ratios.debtToEquity.toFixed(2), \"x\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 765,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 760,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [\"Debt-to-Assets\", /*#__PURE__*/_jsxDEV(HelpTooltip, {\n                          text: \"Total Liabilities / Total Assets. Shows what % of assets are financed by debt. <30% is low, 30-60% is moderate, >60% is high.\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 772,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 770,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `font-bold ${ratios.debtToAssets < 30 ? 'text-green-600' : ratios.debtToAssets < 60 ? 'text-yellow-600' : 'text-red-600'}`,\n                        children: [ratios.debtToAssets.toFixed(1), \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 774,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 769,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 759,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 755,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"font-semibold text-gray-700 mb-2 flex items-center gap-1\",\n                    children: \"\\u26A1 Efficiency Ratios\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 783,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-2 text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [\"Asset Turnover\", /*#__PURE__*/_jsxDEV(HelpTooltip, {\n                          text: \"Revenue / Total Assets. Measures how efficiently assets generate revenue. >1.0 is good, >2.0 is excellent.\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 790,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 788,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `font-bold ${ratios.assetTurnover > 2 ? 'text-green-600' : ratios.assetTurnover > 1 ? 'text-yellow-600' : 'text-red-600'}`,\n                        children: [ratios.assetTurnover.toFixed(2), \"x\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 792,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 787,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [\"ROA (Return on Assets)\", /*#__PURE__*/_jsxDEV(HelpTooltip, {\n                          text: \"EBITDA / Total Assets. Shows how profitable assets are. >10% is good, >20% is excellent.\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 799,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 797,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `font-bold ${ratios.roa > 20 ? 'text-green-600' : ratios.roa > 10 ? 'text-yellow-600' : 'text-red-600'}`,\n                        children: [ratios.roa.toFixed(1), \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 801,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 796,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [\"ROE (Return on Equity)\", /*#__PURE__*/_jsxDEV(HelpTooltip, {\n                          text: \"EBITDA / Equity. Shows return to owners. >15% is good, >25% is excellent.\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 808,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 806,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `font-bold ${ratios.roe > 25 ? 'text-green-600' : ratios.roe > 15 ? 'text-yellow-600' : 'text-red-600'}`,\n                        children: [ratios.roe.toFixed(1), \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 810,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 805,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 786,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 782,\n                  columnNumber: 23\n                }, this)]\n              }, year, true, {\n                fileName: _jsxFileName,\n                lineNumber: 695,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 690,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 bg-white border rounded-lg p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-md font-semibold mb-4\",\n              children: \"Profitability Trend\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 823,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n              width: \"100%\",\n              height: 300,\n              children: /*#__PURE__*/_jsxDEV(BarChart, {\n                data: years.map(year => ({\n                  year: year.toString(),\n                  'Gross Margin': calculateRatios(year).grossMargin,\n                  'EBITDA Margin': calculateRatios(year).ebitdaMargin\n                })),\n                children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                  strokeDasharray: \"3 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 830,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                  dataKey: \"year\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 831,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                  label: {\n                    value: 'Percentage (%)',\n                    angle: -90,\n                    position: 'insideLeft'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 832,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                  formatter: v => `${v.toFixed(1)}%`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 833,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 834,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                  dataKey: \"Gross Margin\",\n                  fill: \"#10b981\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 835,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                  dataKey: \"EBITDA Margin\",\n                  fill: \"#3b82f6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 836,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 825,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 824,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 822,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 684,\n          columnNumber: 13\n        }, this), activeTab === 'charts' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-8 bg-white border rounded-lg p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-md font-semibold mb-4 flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n                className: \"text-green-600\",\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 848,\n                columnNumber: 19\n              }, this), \"Gross Profit Trend\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 847,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n              width: \"100%\",\n              height: 250,\n              children: /*#__PURE__*/_jsxDEV(LineChart, {\n                data: chartData,\n                children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                  strokeDasharray: \"3 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 853,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                  dataKey: \"year\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 854,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                  tickFormatter: v => `$${(v / 1000000).toFixed(1)}M`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 855,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                  formatter: v => formatCurrency(v)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 856,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 857,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Line, {\n                  type: \"monotone\",\n                  dataKey: \"Gross Profit\",\n                  stroke: \"#10b981\",\n                  strokeWidth: 3\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 858,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 852,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 851,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 846,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-8 bg-white border rounded-lg p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-md font-semibold mb-4 flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                className: \"text-blue-600\",\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 865,\n                columnNumber: 19\n              }, this), \"EBITDA Trend\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 864,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n              width: \"100%\",\n              height: 250,\n              children: /*#__PURE__*/_jsxDEV(LineChart, {\n                data: chartData,\n                children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                  strokeDasharray: \"3 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 870,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                  dataKey: \"year\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 871,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                  tickFormatter: v => `$${(v / 1000000).toFixed(1)}M`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 872,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                  formatter: v => formatCurrency(v)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 873,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 874,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Line, {\n                  type: \"monotone\",\n                  dataKey: \"EBITDA\",\n                  stroke: \"#3b82f6\",\n                  strokeWidth: 3\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 875,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 869,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 868,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 863,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-8 bg-white border rounded-lg p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-md font-semibold mb-4 flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n                className: \"text-purple-600\",\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 882,\n                columnNumber: 19\n              }, this), \"SDE Trend (Auto-Calculated)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 881,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n              width: \"100%\",\n              height: 250,\n              children: /*#__PURE__*/_jsxDEV(LineChart, {\n                data: chartData,\n                children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                  strokeDasharray: \"3 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 887,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                  dataKey: \"year\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 888,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                  tickFormatter: v => `$${(v / 1000000).toFixed(1)}M`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 889,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                  formatter: v => formatCurrency(v)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 890,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 891,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Line, {\n                  type: \"monotone\",\n                  dataKey: \"SDE\",\n                  stroke: \"#9333ea\",\n                  strokeWidth: 3\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 892,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 886,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 885,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 880,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 845,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 border-t bg-gray-50 flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"px-6 py-2 border rounded-lg hover:bg-gray-100\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 901,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-4\",\n          children: [!selectedIndustry && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-red-600\",\n            children: \"\\u26A0\\uFE0F Please select an industry\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 909,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSubmit,\n            disabled: !selectedIndustry,\n            className: `px-6 py-3 rounded-lg flex items-center gap-2 ${selectedIndustry ? 'bg-blue-600 text-white hover:bg-blue-700' : 'bg-gray-300 text-gray-500 cursor-not-allowed'}`,\n            children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 920,\n              columnNumber: 15\n            }, this), \"Calculate Advanced Valuation\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 911,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 907,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 900,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 327,\n    columnNumber: 5\n  }, this);\n};\n_s(AdvancedValuationModal, \"3Ws4JaMk9RnGfzzrP5DhmEFJwVQ=\");\n_c = AdvancedValuationModal;\nexport default AdvancedValuationModal;\nvar _c;\n$RefreshReg$(_c, \"AdvancedValuationModal\");","map":{"version":3,"names":["React","useState","useEffect","X","TrendingUp","DollarSign","BarChart3","Percent","HelpCircle","Calculator","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","BarChart","Bar","axios","jsxDEV","_jsxDEV","AdvancedValuationModal","isOpen","onClose","onSubmit","_s","currentYear","Date","getFullYear","years","industries","setIndustries","selectedIndustry","setSelectedIndustry","localStorage","getItem","privateDiscount","setPrivateDiscount","parseFloat","financialData","setFinancialData","saved","parsed","JSON","parse","complete","revenue","reduce","acc","year","_parsed$revenue","ebitda","_parsed$ebitda","sde","_parsed$sde","gross_profit","_parsed$gross_profit","total_assets","_parsed$total_assets","total_liabilities_equity","_parsed$total_liabili","owner_compensation","_parsed$owner_compens","non_recurring_expenses","_parsed$non_recurring","capital_expenditures","_parsed$capital_expen","depreciation","ebit","profit_after_tax","cash","_parsed$cash","current_assets","_parsed$current_asset","non_current_assets","_parsed$non_current_a","long_term_debt","_parsed$long_term_deb","short_term_debt","_parsed$short_term_de","interest_bearing_debt","_parsed$interest_bear","equity","_parsed$equity","total_liabilities","_parsed$total_liabili2","owner_salary","_parsed$owner_salary","family_salaries","_parsed$family_salari","salary_adjustments","_parsed$salary_adjust","auto_expenses","_parsed$auto_expenses","donations","_parsed$donations","insurance_premiums","_parsed$insurance_pre","inventory_adjustments","_parsed$inventory_adj","meals_entertainment","_parsed$meals_enterta","personal_expenses","_parsed$personal_expe","phone_internet","_parsed$phone_interne","non_business_services","_parsed$non_business_","travel","_parsed$travel","one_time_charges","_parsed$one_time_char","retirement","_parsed$retirement","supplier_rebates","_parsed$supplier_reba","other_addbacks","_parsed$other_addback","addbacks_total","_parsed$addbacks_tota","e","console","error","activeTab","setActiveTab","fetchIndustries","newData","updated","forEach","addBackFields","totalAddBacks","sum","field","undefined","toString","calculatedSDE","currentAssets","nonCurrentAssets","totalAssets","longTermDebt","shortTermDebt","interestBearingDebt","totalLiabilities","totalLiabilitiesEquity","token","response","get","headers","Authorization","data","err","handleInputChange","value","prev","setTimeout","setItem","stringify","formatCurrency","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","prepareChartData","map","calculateRatios","grossProfit","grossMargin","ebitdaMargin","currentRatio","cashRatio","debtToEquity","debtToAssets","assetTurnover","roa","roe","handleSubmit","submissionData","industry_id","private_company_discount","chartData","selectedIndustryData","find","ind","id","parseInt","HelpTooltip","text","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","onClick","tab","onChange","target","required","industry","industry_name","ev_ebitda","median","ev_revenue","pe","type","min","max","step","background","toFixed","y","label","help","readonly","item","idx","placeholder","readOnly","disabled","ratios","width","height","strokeDasharray","dataKey","angle","position","formatter","v","fill","tickFormatter","stroke","strokeWidth","_c","$RefreshReg$"],"sources":["C:/Users/Cameron/projects/exitready-pro/frontend/src/components/AdvancedValuationModal.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { X, TrendingUp, DollarSign, BarChart3, Percent, HelpCircle, Calculator } from 'lucide-react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, BarChart, Bar } from 'recharts';\nimport axios from 'axios';\n\nconst AdvancedValuationModal = ({ isOpen, onClose, onSubmit }) => {\n  const [currentYear] = useState(new Date().getFullYear());\n  const years = [currentYear - 3, currentYear - 2, currentYear - 1, currentYear];\n  \n  const [industries, setIndustries] = useState([]);\n  const [selectedIndustry, setSelectedIndustry] = useState(\n    localStorage.getItem('advancedValuationIndustry') || ''\n  );\n  const [privateDiscount, setPrivateDiscount] = useState(\n    parseFloat(localStorage.getItem('advancedValuationDiscount')) || 25\n  );\n  \n  const [financialData, setFinancialData] = useState(() => {\n    // Try to load saved data\n    const saved = localStorage.getItem('advancedValuationData');\n    if (saved) {\n      try {\n        const parsed = JSON.parse(saved);\n        // Merge saved data with complete structure to ensure all fields exist\n        const complete = {\n          revenue: years.reduce((acc, year) => ({ ...acc, [year]: parsed.revenue?.[year] || '' }), {}),\n          ebitda: years.reduce((acc, year) => ({ ...acc, [year]: parsed.ebitda?.[year] || '' }), {}),\n          sde: years.reduce((acc, year) => ({ ...acc, [year]: parsed.sde?.[year] || '' }), {}),\n          gross_profit: years.reduce((acc, year) => ({ ...acc, [year]: parsed.gross_profit?.[year] || '' }), {}),\n          total_assets: years.reduce((acc, year) => ({ ...acc, [year]: parsed.total_assets?.[year] || '' }), {}),\n          total_liabilities_equity: years.reduce((acc, year) => ({ ...acc, [year]: parsed.total_liabilities_equity?.[year] || '' }), {}),\n          owner_compensation: years.reduce((acc, year) => ({ ...acc, [year]: parsed.owner_compensation?.[year] || '' }), {}),\n          non_recurring_expenses: years.reduce((acc, year) => ({ ...acc, [year]: parsed.non_recurring_expenses?.[year] || '' }), {}),\n          capital_expenditures: years.reduce((acc, year) => ({ ...acc, [year]: parsed.capital_expenditures?.[year] || '' }), {}),\n          depreciation: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n          ebit: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n          profit_after_tax: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n          // Balance sheet fields\n          cash: years.reduce((acc, year) => ({ ...acc, [year]: parsed.cash?.[year] || '' }), {}),\n          current_assets: years.reduce((acc, year) => ({ ...acc, [year]: parsed.current_assets?.[year] || '' }), {}),\n          non_current_assets: years.reduce((acc, year) => ({ ...acc, [year]: parsed.non_current_assets?.[year] || '' }), {}),\n          long_term_debt: years.reduce((acc, year) => ({ ...acc, [year]: parsed.long_term_debt?.[year] || '' }), {}),\n          short_term_debt: years.reduce((acc, year) => ({ ...acc, [year]: parsed.short_term_debt?.[year] || '' }), {}),\n          interest_bearing_debt: years.reduce((acc, year) => ({ ...acc, [year]: parsed.interest_bearing_debt?.[year] || '' }), {}),\n          equity: years.reduce((acc, year) => ({ ...acc, [year]: parsed.equity?.[year] || '' }), {}),\n          total_liabilities: years.reduce((acc, year) => ({ ...acc, [year]: parsed.total_liabilities?.[year] || '' }), {}),\n          // Add-backs fields\n          owner_salary: years.reduce((acc, year) => ({ ...acc, [year]: parsed.owner_salary?.[year] || '' }), {}),\n          family_salaries: years.reduce((acc, year) => ({ ...acc, [year]: parsed.family_salaries?.[year] || '' }), {}),\n          salary_adjustments: years.reduce((acc, year) => ({ ...acc, [year]: parsed.salary_adjustments?.[year] || '' }), {}),\n          auto_expenses: years.reduce((acc, year) => ({ ...acc, [year]: parsed.auto_expenses?.[year] || '' }), {}),\n          donations: years.reduce((acc, year) => ({ ...acc, [year]: parsed.donations?.[year] || '' }), {}),\n          insurance_premiums: years.reduce((acc, year) => ({ ...acc, [year]: parsed.insurance_premiums?.[year] || '' }), {}),\n          inventory_adjustments: years.reduce((acc, year) => ({ ...acc, [year]: parsed.inventory_adjustments?.[year] || '' }), {}),\n          meals_entertainment: years.reduce((acc, year) => ({ ...acc, [year]: parsed.meals_entertainment?.[year] || '' }), {}),\n          personal_expenses: years.reduce((acc, year) => ({ ...acc, [year]: parsed.personal_expenses?.[year] || '' }), {}),\n          phone_internet: years.reduce((acc, year) => ({ ...acc, [year]: parsed.phone_internet?.[year] || '' }), {}),\n          non_business_services: years.reduce((acc, year) => ({ ...acc, [year]: parsed.non_business_services?.[year] || '' }), {}),\n          travel: years.reduce((acc, year) => ({ ...acc, [year]: parsed.travel?.[year] || '' }), {}),\n          one_time_charges: years.reduce((acc, year) => ({ ...acc, [year]: parsed.one_time_charges?.[year] || '' }), {}),\n          retirement: years.reduce((acc, year) => ({ ...acc, [year]: parsed.retirement?.[year] || '' }), {}),\n          supplier_rebates: years.reduce((acc, year) => ({ ...acc, [year]: parsed.supplier_rebates?.[year] || '' }), {}),\n          other_addbacks: years.reduce((acc, year) => ({ ...acc, [year]: parsed.other_addbacks?.[year] || '' }), {}),\n          addbacks_total: years.reduce((acc, year) => ({ ...acc, [year]: parsed.addbacks_total?.[year] || '' }), {})\n        };\n        return complete;\n      } catch (e) {\n        console.error('Error loading saved data:', e);\n      }\n    }\n\n    // Default structure if nothing saved\n    return {\n      revenue: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      ebitda: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      sde: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      gross_profit: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      total_assets: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      total_liabilities_equity: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      owner_compensation: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      non_recurring_expenses: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      capital_expenditures: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      cash: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      current_assets: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      non_current_assets: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      long_term_debt: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      short_term_debt: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      interest_bearing_debt: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      equity: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      total_liabilities: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      owner_salary: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      family_salaries: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      salary_adjustments: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      auto_expenses: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      donations: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      insurance_premiums: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      inventory_adjustments: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      meals_entertainment: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      personal_expenses: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      phone_internet: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      non_business_services: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      travel: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      one_time_charges: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      retirement: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      supplier_rebates: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      other_addbacks: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      addbacks_total: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      depreciation: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      ebit: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n      profit_after_tax: years.reduce((acc, year) => ({ ...acc, [year]: '' }), {}),\n    };\n  });\n\n  const [activeTab, setActiveTab] = useState('settings');\n\n  useEffect(() => {\n    if (isOpen) {\n      fetchIndustries();\n    }\n  }, [isOpen]);\n\n  // Auto-calculate SDE, add-backs total, and balance sheet totals\n  useEffect(() => {\n    const newData = { ...financialData };\n    let updated = false;\n\n    years.forEach(year => {\n      // Calculate total add-backs (only if these fields exist)\n      const addBackFields = [\n        'owner_salary', 'family_salaries', 'salary_adjustments', 'auto_expenses',\n        'donations', 'insurance_premiums', 'inventory_adjustments', 'meals_entertainment',\n        'personal_expenses', 'phone_internet', 'non_business_services', 'travel',\n        'one_time_charges', 'retirement', 'supplier_rebates', 'other_addbacks'\n      ];\n\n      const totalAddBacks = addBackFields.reduce((sum, field) => {\n        // Check if field exists before accessing\n        if (financialData[field] && financialData[field][year] !== undefined) {\n          return sum + (parseFloat(financialData[field][year]) || 0);\n        }\n        return sum;\n      }, 0);\n\n      // Only update if addbacks_total field exists\n      if (financialData.addbacks_total) {\n        if (totalAddBacks !== parseFloat(newData.addbacks_total[year] || 0)) {\n          newData.addbacks_total[year] = totalAddBacks.toString();\n          updated = true;\n        }\n      }\n\n      // Calculate SDE = EBITDA + Add-backs Total (only if fields exist)\n      if (financialData.ebitda && financialData.sde) {\n        const ebitda = parseFloat(financialData.ebitda[year]) || 0;\n        const calculatedSDE = ebitda + totalAddBacks;\n\n        if (calculatedSDE !== parseFloat(newData.sde[year] || 0)) {\n          newData.sde[year] = calculatedSDE.toString();\n          updated = true;\n        }\n      }\n\n      // Calculate Total Assets (only if fields exist)\n      if (financialData.cash && financialData.current_assets && financialData.non_current_assets && financialData.total_assets) {\n        const cash = parseFloat(financialData.cash[year]) || 0;\n        const currentAssets = parseFloat(financialData.current_assets[year]) || 0;\n        const nonCurrentAssets = parseFloat(financialData.non_current_assets[year]) || 0;\n        const totalAssets = cash + currentAssets + nonCurrentAssets;\n\n        if (totalAssets !== parseFloat(newData.total_assets[year] || 0)) {\n          newData.total_assets[year] = totalAssets.toString();\n          updated = true;\n        }\n      }\n\n      // Calculate Total Liabilities (only if fields exist)\n      if (financialData.long_term_debt && financialData.short_term_debt && financialData.interest_bearing_debt && financialData.total_liabilities) {\n        const longTermDebt = parseFloat(financialData.long_term_debt[year]) || 0;\n        const shortTermDebt = parseFloat(financialData.short_term_debt[year]) || 0;\n        const interestBearingDebt = parseFloat(financialData.interest_bearing_debt[year]) || 0;\n        const totalLiabilities = longTermDebt + shortTermDebt + interestBearingDebt;\n\n        if (totalLiabilities !== parseFloat(newData.total_liabilities[year] || 0)) {\n          newData.total_liabilities[year] = totalLiabilities.toString();\n          updated = true;\n        }\n      }\n\n      // Calculate Total Liabilities & Equity (only if fields exist)\n      if (financialData.total_liabilities && financialData.equity && financialData.total_liabilities_equity) {\n        const totalLiabilities = parseFloat(financialData.total_liabilities[year]) || 0;\n        const equity = parseFloat(financialData.equity[year]) || 0;\n        const totalLiabilitiesEquity = totalLiabilities + equity;\n\n        if (totalLiabilitiesEquity !== parseFloat(newData.total_liabilities_equity[year] || 0)) {\n          newData.total_liabilities_equity[year] = totalLiabilitiesEquity.toString();\n          updated = true;\n        }\n      }\n    });\n\n    if (updated) {\n      setFinancialData(newData);\n    }\n  }, [\n    financialData.ebitda, financialData.owner_salary, financialData.family_salaries,\n    financialData.cash, financialData.current_assets, financialData.non_current_assets,\n    financialData.long_term_debt, financialData.short_term_debt, financialData.interest_bearing_debt,\n    financialData.equity\n  ]);\n\n  const fetchIndustries = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get('http://localhost:5000/api/valuation/industries', {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setIndustries(response.data.industries);\n    } catch (err) {\n      console.error('Error fetching industries:', err);\n    }\n  };\n\n  const handleInputChange = (field, year, value) => {\n    setFinancialData(prev => ({\n      ...prev,\n      [field]: {\n        ...prev[field],\n        [year]: value\n      }\n    }));\n\n    // Save to localStorage after update\n    setTimeout(() => {\n      const updated = {\n        ...financialData,\n        [field]: {\n          ...financialData[field],\n          [year]: value\n        }\n      };\n      localStorage.setItem('advancedValuationData', JSON.stringify(updated));\n    }, 100);\n  };\n\n  const formatCurrency = (value) => {\n    if (!value) return '$0';\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0,\n    }).format(value);\n  };\n\n  const prepareChartData = () => {\n    return years.map(year => ({\n      year: year.toString(),\n      'Gross Profit': parseFloat(financialData.gross_profit[year]) || 0,\n      'EBITDA': parseFloat(financialData.ebitda[year]) || 0,\n      'SDE': parseFloat(financialData.sde[year]) || 0,\n    }));\n  };\n\n  // Calculate financial ratios\n  const calculateRatios = (year) => {\n    const revenue = parseFloat(financialData.revenue[year]) || 0;\n    const grossProfit = parseFloat(financialData.gross_profit[year]) || 0;\n    const ebitda = parseFloat(financialData.ebitda[year]) || 0;\n    const currentAssets = parseFloat(financialData.current_assets[year]) || 0;\n    const cash = parseFloat(financialData.cash[year]) || 0;\n    const totalAssets = parseFloat(financialData.total_assets[year]) || 0;\n    const totalLiabilities = parseFloat(financialData.total_liabilities[year]) || 0;\n    const equity = parseFloat(financialData.equity[year]) || 0;\n    const shortTermDebt = parseFloat(financialData.short_term_debt[year]) || 0;\n\n    return {\n      // Profitability Ratios\n      grossMargin: revenue > 0 ? (grossProfit / revenue * 100) : 0,\n      ebitdaMargin: revenue > 0 ? (ebitda / revenue * 100) : 0,\n      \n      // Liquidity Ratios\n      currentRatio: shortTermDebt > 0 ? (currentAssets / shortTermDebt) : 0,\n      cashRatio: shortTermDebt > 0 ? (cash / shortTermDebt) : 0,\n      \n      // Leverage Ratios\n      debtToEquity: equity > 0 ? (totalLiabilities / equity) : 0,\n      debtToAssets: totalAssets > 0 ? (totalLiabilities / totalAssets * 100) : 0,\n      \n      // Efficiency Ratios\n      assetTurnover: totalAssets > 0 ? (revenue / totalAssets) : 0,\n      roa: totalAssets > 0 ? (ebitda / totalAssets * 100) : 0,\n      roe: equity > 0 ? (ebitda / equity * 100) : 0,\n    };\n  };\n\n  const handleSubmit = () => {\n    const submissionData = {\n      ...financialData,\n      industry_id: selectedIndustry,\n      private_company_discount: privateDiscount / 100\n    };\n\n    // Save settings to localStorage\n    localStorage.setItem('advancedValuationIndustry', selectedIndustry);\n    localStorage.setItem('advancedValuationDiscount', privateDiscount.toString());\n\n    onSubmit(submissionData);\n  };\n\n  if (!isOpen) return null;\n\n  const chartData = prepareChartData();\n  const selectedIndustryData = industries.find(ind => ind.id === parseInt(selectedIndustry));\n\n  // Tooltip component\n  const HelpTooltip = ({ text }) => (\n    <div className=\"group relative inline-block ml-1\">\n      <HelpCircle size={14} className=\"inline text-blue-600 cursor-help\" />\n      <div className=\"invisible group-hover:visible absolute z-50 w-64 p-2 bg-gray-900 text-white text-xs rounded shadow-lg -top-2 left-6\">\n        {text}\n      </div>\n    </div>\n  );\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-lg w-full max-w-7xl max-h-[95vh] overflow-hidden flex flex-col\">\n        <div className=\"p-6 border-b border-gray-200 flex justify-between items-center bg-gradient-to-r from-blue-600 to-indigo-600\">\n          <div className=\"flex items-center gap-3\">\n            <BarChart3 className=\"text-white\" size={28} />\n            <div>\n              <h2 className=\"text-2xl font-bold text-white\">Advanced Financial Analysis</h2>\n              <p className=\"text-blue-100 text-sm\">Multi-year detailed valuation</p>\n            </div>\n          </div>\n          <button onClick={onClose} className=\"text-white hover:bg-white/20 p-2 rounded-lg\">\n            <X size={24} />\n          </button>\n        </div>\n\n        <div className=\"border-b border-gray-200 bg-gray-50\">\n          <div className=\"flex overflow-x-auto\">\n            {['settings', 'income', 'balance', 'addbacks', 'ratios', 'charts'].map(tab => (\n              <button\n                key={tab}\n                onClick={() => setActiveTab(tab)}\n                className={`px-6 py-4 font-semibold transition-colors whitespace-nowrap flex-shrink-0 ${activeTab === tab\n                    ? 'bg-white text-blue-600 border-b-2 border-blue-600'\n                    : 'text-gray-600 hover:bg-gray-100'\n                  }`}\n              >\n                {tab === 'settings' && '⚙️ Settings'}\n                {tab === 'income' && '📊 Income'}\n                {tab === 'balance' && '🏦 Balance'}\n                {tab === 'addbacks' && '➕ Add-backs'}\n                {tab === 'ratios' && '🔢 Ratios'}\n                {tab === 'charts' && '📈 Charts'}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto p-6\">\n          {/* Settings Tab */}\n          {activeTab === 'settings' && (\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Valuation Settings</h3>\n              \n              <div className=\"mb-6\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Industry *\n                </label>\n                <select\n                  value={selectedIndustry}\n                  onChange={(e) => setSelectedIndustry(e.target.value)}\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                  required\n                >\n                  <option value=\"\">Select your industry...</option>\n                  {industries.map(industry => (\n                    <option key={industry.id} value={industry.id}>\n                      {industry.industry_name}\n                    </option>\n                  ))}\n                </select>\n                {selectedIndustryData && (\n                  <div className=\"mt-2 p-3 bg-blue-50 rounded-lg text-sm\">\n                    <p className=\"font-medium text-blue-900\">Industry Multiples (Public Companies):</p>\n                    <p className=\"text-blue-700\">\n                      EV/EBITDA: {selectedIndustryData.ev_ebitda.median}x | \n                      EV/Revenue: {selectedIndustryData.ev_revenue.median}x | \n                      P/E: {selectedIndustryData.pe.median}x\n                    </p>\n                  </div>\n                )}\n              </div>\n\n              <div className=\"mb-6 p-4 bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg\">\n                <div className=\"flex items-center justify-between mb-3\">\n                  <div className=\"flex items-center gap-2\">\n                    <Percent className=\"text-purple-600\" size={20} />\n                    <label className=\"text-sm font-semibold text-gray-800\">\n                      Private Company Discount\n                    </label>\n                  </div>\n                  <span className=\"text-2xl font-bold text-purple-600\">\n                    {privateDiscount}%\n                  </span>\n                </div>\n                \n                <input\n                  type=\"range\"\n                  min=\"0\"\n                  max=\"50\"\n                  step=\"5\"\n                  value={privateDiscount}\n                  onChange={(e) => setPrivateDiscount(parseInt(e.target.value))}\n                  className=\"w-full h-3 rounded-lg appearance-none cursor-pointer\"\n                  style={{\n                    background: `linear-gradient(to right, #9333ea 0%, #9333ea ${privateDiscount * 2}%, #e9d5ff ${privateDiscount * 2}%, #e9d5ff 100%)`\n                  }}\n                />\n                \n                <div className=\"flex justify-between text-xs text-gray-600 mt-2\">\n                  <span>0%</span>\n                  <span>25%</span>\n                  <span>50%</span>\n                </div>\n                \n                {selectedIndustryData && (\n                  <div className=\"mt-3 pt-3 border-t border-purple-200\">\n                    <p className=\"text-xs font-medium text-gray-700 mb-1\">Adjusted Multiples:</p>\n                    <p className=\"text-sm text-purple-700 font-semibold\">\n                      EV/EBITDA: {(selectedIndustryData.ev_ebitda.median * (1 - privateDiscount / 100)).toFixed(1)}x | \n                      EV/Revenue: {(selectedIndustryData.ev_revenue.median * (1 - privateDiscount / 100)).toFixed(1)}x\n                    </p>\n                  </div>\n                )}\n              </div>\n\n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                <h4 className=\"font-semibold text-blue-900 mb-2\">💡 Next Steps</h4>\n                <ol className=\"text-sm text-blue-800 space-y-1\">\n                  <li>1. Select your industry above</li>\n                  <li>2. Adjust the private company discount if needed</li>\n                  <li>3. Go to \"Income\" tab and enter financial data</li>\n                  <li>4. Go to \"Balance\" tab (auto-calculates totals)</li>\n                  <li>5. Go to \"Add-backs\" tab to adjust EBITDA</li>\n                  <li>6. View \"Ratios\" tab for financial health metrics</li>\n                  <li>7. View \"Charts\" tab to see trends</li>\n                  <li>8. Click \"Calculate\" when ready</li>\n                </ol>\n              </div>\n            </div>\n          )}\n\n          {/* Income Statement Tab */}\n          {activeTab === 'income' && (\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full border-collapse\">\n                <thead>\n                  <tr className=\"bg-gray-100\">\n                    <th className=\"text-left p-3 border\">Line Item</th>\n                    {years.map(y => <th key={y} className=\"p-3 border\">{y}</th>)}\n                  </tr>\n                </thead>\n                <tbody>\n                  {[\n                    { label: 'Revenue/Income', field: 'revenue', help: 'Total sales or income generated by the business.' },\n                    { \n                      label: 'Gross Profit', \n                      field: 'gross_profit',\n                      help: 'Revenue minus Cost of Goods Sold (COGS). Shows profitability before operating expenses.'\n                    },\n                    { \n                      label: 'EBITDA', \n                      field: 'ebitda',\n                      help: 'Earnings Before Interest, Tax, Depreciation, and Amortization. Key metric for business valuation.'\n                    },\n                    { label: 'Depreciation/Amortization', field: 'depreciation', help: 'Non-cash expenses for asset depreciation and intangible asset amortization.' },\n                    { \n                      label: 'EBIT', \n                      field: 'ebit',\n                      help: 'Earnings Before Interest and Tax (EBITDA minus Depreciation/Amortization). Operating profit.'\n                    },\n                    { label: 'Profit After Tax', field: 'profit_after_tax', help: 'Net income after all expenses and taxes.' },\n                    { \n                      label: 'Add-backs Total', \n                      field: 'addbacks_total',\n                      help: 'Auto-calculated sum of all add-backs from the Add-backs tab.',\n                      readonly: true \n                    },\n                    { \n                      label: \"Seller's Discretionary Earnings (SDE)\", \n                      field: 'sde',\n                      help: 'Auto-calculated as EBITDA + Add-backs. Represents true owner earnings available to a new buyer.',\n                      readonly: true\n                    },\n                  ].map((item, idx) => (\n                    <tr key={item.field} className={idx % 2 === 0 ? 'bg-white' : 'bg-gray-50'}>\n                      <td className=\"p-3 border font-medium\">\n                        {item.label}\n                        {item.help && <HelpTooltip text={item.help} />}\n                        {item.readonly && <span className=\"ml-2 text-xs text-green-600\">(Auto)</span>}\n                      </td>\n                      {years.map(year => (\n                        <td key={year} className=\"p-2 border\">\n                          <input\n                            type=\"number\"\n                            value={financialData[item.field][year]}\n                            onChange={(e) => handleInputChange(item.field, year, e.target.value)}\n                            className={`w-full px-2 py-1 border rounded ${\n                              item.readonly ? 'bg-gray-100 cursor-not-allowed' : ''\n                            }`}\n                            placeholder=\"$0\"\n                            readOnly={item.readonly}\n                            disabled={item.readonly}\n                          />\n                        </td>\n                      ))}\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n\n          {/* Balance Sheet Tab */}\n          {activeTab === 'balance' && (\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full border-collapse\">\n                <thead>\n                  <tr className=\"bg-gray-100\">\n                    <th className=\"text-left p-3 border\">Line Item</th>\n                    {years.map(y => <th key={y} className=\"p-3 border\">{y}</th>)}\n                  </tr>\n                </thead>\n                <tbody>\n                  {[\n                    { \n                      label: 'Cash and Cash Equivalents', \n                      field: 'cash',\n                      help: 'Money in bank accounts, money market funds, and other highly liquid assets.'\n                    },\n                    { \n                      label: 'Current Assets', \n                      field: 'current_assets',\n                      help: 'Assets that can be converted to cash within one year (inventory, accounts receivable, etc.).'\n                    },\n                    { \n                      label: 'Non-Current Assets', \n                      field: 'non_current_assets',\n                      help: 'Long-term assets like property, equipment, patents, and goodwill.'\n                    },\n                    { \n                      label: 'Total Assets', \n                      field: 'total_assets',\n                      help: 'Auto-calculated: Cash + Current Assets + Non-Current Assets. All resources owned by the business.',\n                      readonly: true\n                    },\n                    { \n                      label: 'Long-term Debt/Liabilities', \n                      field: 'long_term_debt',\n                      help: 'Debts and obligations due beyond one year (mortgages, bonds, long-term loans).'\n                    },\n                    { \n                      label: 'Short-term Debt/Liabilities', \n                      field: 'short_term_debt',\n                      help: 'Debts due within one year (accounts payable, short-term loans, accrued expenses).'\n                    },\n                    { \n                      label: 'Interest Bearing Debt', \n                      field: 'interest_bearing_debt',\n                      help: 'Debt that requires interest payments (excludes non-interest liabilities like accounts payable).'\n                    },\n                    { \n                      label: 'Total Liabilities', \n                      field: 'total_liabilities',\n                      help: 'Auto-calculated: Long-term + Short-term + Interest Bearing Debt. All obligations owed.',\n                      readonly: true\n                    },\n                    { \n                      label: 'Equity', \n                      field: 'equity',\n                      help: \"Owner's equity or shareholders' equity. The residual interest in assets after deducting liabilities.\"\n                    },\n                    { \n                      label: 'Total Liabilities & Equity', \n                      field: 'total_liabilities_equity',\n                      help: 'Auto-calculated: Total Liabilities + Equity. Should equal Total Assets.',\n                      readonly: true\n                    },\n                  ].map((item, idx) => (\n                    <tr key={item.field} className={idx % 2 === 0 ? 'bg-white' : 'bg-gray-50'}>\n                      <td className={`p-3 border font-medium ${item.readonly ? 'bg-blue-50' : ''}`}>\n                        {item.label}\n                        {item.help && <HelpTooltip text={item.help} />}\n                        {item.readonly && <span className=\"ml-2 text-xs text-green-600\">(Auto)</span>}\n                      </td>\n                      {years.map(year => (\n                        <td key={year} className={`p-2 border ${item.readonly ? 'bg-blue-50' : ''}`}>\n                          <input\n                            type=\"number\"\n                            value={financialData[item.field][year]}\n                            onChange={(e) => handleInputChange(item.field, year, e.target.value)}\n                            className={`w-full px-2 py-1 border rounded ${\n                              item.readonly ? 'bg-gray-100 cursor-not-allowed font-semibold' : ''\n                            }`}\n                            placeholder=\"$0\"\n                            readOnly={item.readonly}\n                            disabled={item.readonly}\n                          />\n                        </td>\n                      ))}\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n\n          {/* Add-backs Tab */}\n          {activeTab === 'addbacks' && (\n            <div>\n              <div className=\"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg\">\n                <h4 className=\"font-semibold text-green-900 mb-2\">💡 What are Add-backs?</h4>\n                <p className=\"text-sm text-green-800\">\n                  Add-backs are expenses that can be added back to EBITDA because a new owner won't incur them.\n                  These automatically calculate your SDE (Seller's Discretionary Earnings).\n                </p>\n              </div>\n              \n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full border-collapse\">\n                  <thead>\n                    <tr className=\"bg-gray-100\">\n                      <th className=\"text-left p-3 border\">Add-back Item</th>\n                      {years.map(y => <th key={y} className=\"p-3 border\">{y}</th>)}\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {[\n                      { label: 'Owner Salary', field: 'owner_salary' },\n                      { label: 'Family Salaries', field: 'family_salaries' },\n                      { label: 'Salary Adjustments', field: 'salary_adjustments' },\n                      { label: 'Auto Expenses', field: 'auto_expenses' },\n                      { label: 'Donations', field: 'donations' },\n                      { label: 'Insurance Premiums', field: 'insurance_premiums' },\n                      { label: 'Inventory Adjustments', field: 'inventory_adjustments' },\n                      { label: 'Meals/Entertainment', field: 'meals_entertainment' },\n                      { label: 'Personal Expenses', field: 'personal_expenses' },\n                      { label: 'Phone/Internet', field: 'phone_internet' },\n                      { label: 'Non-business Services', field: 'non_business_services' },\n                      { label: 'Travel', field: 'travel' },\n                      { label: 'One-time Charges', field: 'one_time_charges' },\n                      { label: 'Retirement', field: 'retirement' },\n                      { label: 'Supplier Rebates', field: 'supplier_rebates' },\n                      { label: 'Other', field: 'other_addbacks' },\n                    ].map((item, idx) => (\n                      <tr key={item.field} className={idx % 2 === 0 ? 'bg-white' : 'bg-gray-50'}>\n                        <td className=\"p-3 border font-medium\">{item.label}</td>\n                        {years.map(year => (\n                          <td key={year} className=\"p-2 border\">\n                            <input\n                              type=\"number\"\n                              value={financialData[item.field][year]}\n                              onChange={(e) => handleInputChange(item.field, year, e.target.value)}\n                              className=\"w-full px-2 py-1 border rounded\"\n                              placeholder=\"$0\"\n                            />\n                          </td>\n                        ))}\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          )}\n\n          {/* Financial Ratios Tab - NEW! */}\n          {activeTab === 'ratios' && (\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\">\n                <Calculator className=\"text-blue-600\" size={24} />\n                Financial Ratios Analysis\n              </h3>\n\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                {years.map(year => {\n                  const ratios = calculateRatios(year);\n                  \n                  return (\n                    <div key={year} className=\"border rounded-lg p-4 bg-gradient-to-br from-blue-50 to-indigo-50\">\n                      <h4 className=\"text-lg font-bold text-blue-900 mb-4 border-b pb-2\">\n                        {year} Ratios\n                      </h4>\n\n                      {/* Profitability Ratios */}\n                      <div className=\"mb-4\">\n                        <h5 className=\"font-semibold text-gray-700 mb-2 flex items-center gap-1\">\n                          💰 Profitability Ratios\n                        </h5>\n                        <div className=\"space-y-2 text-sm\">\n                          <div className=\"flex justify-between items-center\">\n                            <span>\n                              Gross Margin\n                              <HelpTooltip text=\"Gross Profit / Revenue. Shows percentage of revenue retained after COGS. Higher is better (>40% is excellent).\" />\n                            </span>\n                            <span className={`font-bold ${ratios.grossMargin > 40 ? 'text-green-600' : ratios.grossMargin > 20 ? 'text-yellow-600' : 'text-red-600'}`}>\n                              {ratios.grossMargin.toFixed(1)}%\n                            </span>\n                          </div>\n                          <div className=\"flex justify-between items-center\">\n                            <span>\n                              EBITDA Margin\n                              <HelpTooltip text=\"EBITDA / Revenue. Shows operating profitability. >15% is good, >25% is excellent.\" />\n                            </span>\n                            <span className={`font-bold ${ratios.ebitdaMargin > 25 ? 'text-green-600' : ratios.ebitdaMargin > 15 ? 'text-yellow-600' : 'text-red-600'}`}>\n                              {ratios.ebitdaMargin.toFixed(1)}%\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n\n                      {/* Liquidity Ratios */}\n                      <div className=\"mb-4\">\n                        <h5 className=\"font-semibold text-gray-700 mb-2 flex items-center gap-1\">\n                          💧 Liquidity Ratios\n                        </h5>\n                        <div className=\"space-y-2 text-sm\">\n                          <div className=\"flex justify-between items-center\">\n                            <span>\n                              Current Ratio\n                              <HelpTooltip text=\"Current Assets / Short-term Debt. Measures ability to pay short-term obligations. >1.5 is healthy, >2.0 is strong.\" />\n                            </span>\n                            <span className={`font-bold ${ratios.currentRatio > 2 ? 'text-green-600' : ratios.currentRatio > 1 ? 'text-yellow-600' : 'text-red-600'}`}>\n                              {ratios.currentRatio.toFixed(2)}x\n                            </span>\n                          </div>\n                          <div className=\"flex justify-between items-center\">\n                            <span>\n                              Cash Ratio\n                              <HelpTooltip text=\"Cash / Short-term Debt. Most conservative liquidity measure. >0.5 is good.\" />\n                            </span>\n                            <span className={`font-bold ${ratios.cashRatio > 0.5 ? 'text-green-600' : ratios.cashRatio > 0.2 ? 'text-yellow-600' : 'text-red-600'}`}>\n                              {ratios.cashRatio.toFixed(2)}x\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n\n                      {/* Leverage Ratios */}\n                      <div className=\"mb-4\">\n                        <h5 className=\"font-semibold text-gray-700 mb-2 flex items-center gap-1\">\n                          ⚖️ Leverage Ratios\n                        </h5>\n                        <div className=\"space-y-2 text-sm\">\n                          <div className=\"flex justify-between items-center\">\n                            <span>\n                              Debt-to-Equity\n                              <HelpTooltip text=\"Total Liabilities / Equity. Shows financial leverage. <1.0 is conservative, <2.0 is moderate, >2.0 is aggressive.\" />\n                            </span>\n                            <span className={`font-bold ${ratios.debtToEquity < 1 ? 'text-green-600' : ratios.debtToEquity < 2 ? 'text-yellow-600' : 'text-red-600'}`}>\n                              {ratios.debtToEquity.toFixed(2)}x\n                            </span>\n                          </div>\n                          <div className=\"flex justify-between items-center\">\n                            <span>\n                              Debt-to-Assets\n                              <HelpTooltip text=\"Total Liabilities / Total Assets. Shows what % of assets are financed by debt. <30% is low, 30-60% is moderate, >60% is high.\" />\n                            </span>\n                            <span className={`font-bold ${ratios.debtToAssets < 30 ? 'text-green-600' : ratios.debtToAssets < 60 ? 'text-yellow-600' : 'text-red-600'}`}>\n                              {ratios.debtToAssets.toFixed(1)}%\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n\n                      {/* Efficiency Ratios */}\n                      <div>\n                        <h5 className=\"font-semibold text-gray-700 mb-2 flex items-center gap-1\">\n                          ⚡ Efficiency Ratios\n                        </h5>\n                        <div className=\"space-y-2 text-sm\">\n                          <div className=\"flex justify-between items-center\">\n                            <span>\n                              Asset Turnover\n                              <HelpTooltip text=\"Revenue / Total Assets. Measures how efficiently assets generate revenue. >1.0 is good, >2.0 is excellent.\" />\n                            </span>\n                            <span className={`font-bold ${ratios.assetTurnover > 2 ? 'text-green-600' : ratios.assetTurnover > 1 ? 'text-yellow-600' : 'text-red-600'}`}>\n                              {ratios.assetTurnover.toFixed(2)}x\n                            </span>\n                          </div>\n                          <div className=\"flex justify-between items-center\">\n                            <span>\n                              ROA (Return on Assets)\n                              <HelpTooltip text=\"EBITDA / Total Assets. Shows how profitable assets are. >10% is good, >20% is excellent.\" />\n                            </span>\n                            <span className={`font-bold ${ratios.roa > 20 ? 'text-green-600' : ratios.roa > 10 ? 'text-yellow-600' : 'text-red-600'}`}>\n                              {ratios.roa.toFixed(1)}%\n                            </span>\n                          </div>\n                          <div className=\"flex justify-between items-center\">\n                            <span>\n                              ROE (Return on Equity)\n                              <HelpTooltip text=\"EBITDA / Equity. Shows return to owners. >15% is good, >25% is excellent.\" />\n                            </span>\n                            <span className={`font-bold ${ratios.roe > 25 ? 'text-green-600' : ratios.roe > 15 ? 'text-yellow-600' : 'text-red-600'}`}>\n                              {ratios.roe.toFixed(1)}%\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n\n              {/* Ratios Chart */}\n              <div className=\"mt-6 bg-white border rounded-lg p-6\">\n                <h4 className=\"text-md font-semibold mb-4\">Profitability Trend</h4>\n                <ResponsiveContainer width=\"100%\" height={300}>\n                  <BarChart data={years.map(year => ({\n                    year: year.toString(),\n                    'Gross Margin': calculateRatios(year).grossMargin,\n                    'EBITDA Margin': calculateRatios(year).ebitdaMargin,\n                  }))}>\n                    <CartesianGrid strokeDasharray=\"3 3\" />\n                    <XAxis dataKey=\"year\" />\n                    <YAxis label={{ value: 'Percentage (%)', angle: -90, position: 'insideLeft' }} />\n                    <Tooltip formatter={(v) => `${v.toFixed(1)}%`} />\n                    <Legend />\n                    <Bar dataKey=\"Gross Margin\" fill=\"#10b981\" />\n                    <Bar dataKey=\"EBITDA Margin\" fill=\"#3b82f6\" />\n                  </BarChart>\n                </ResponsiveContainer>\n              </div>\n            </div>\n          )}\n\n          {/* Charts Tab */}\n          {activeTab === 'charts' && (\n            <div>\n              <div className=\"mb-8 bg-white border rounded-lg p-6\">\n                <h4 className=\"text-md font-semibold mb-4 flex items-center gap-2\">\n                  <TrendingUp className=\"text-green-600\" size={20} />\n                  Gross Profit Trend\n                </h4>\n                <ResponsiveContainer width=\"100%\" height={250}>\n                  <LineChart data={chartData}>\n                    <CartesianGrid strokeDasharray=\"3 3\" />\n                    <XAxis dataKey=\"year\" />\n                    <YAxis tickFormatter={(v) => `$${(v/1000000).toFixed(1)}M`} />\n                    <Tooltip formatter={(v) => formatCurrency(v)} />\n                    <Legend />\n                    <Line type=\"monotone\" dataKey=\"Gross Profit\" stroke=\"#10b981\" strokeWidth={3} />\n                  </LineChart>\n                </ResponsiveContainer>\n              </div>\n\n              <div className=\"mb-8 bg-white border rounded-lg p-6\">\n                <h4 className=\"text-md font-semibold mb-4 flex items-center gap-2\">\n                  <DollarSign className=\"text-blue-600\" size={20} />\n                  EBITDA Trend\n                </h4>\n                <ResponsiveContainer width=\"100%\" height={250}>\n                  <LineChart data={chartData}>\n                    <CartesianGrid strokeDasharray=\"3 3\" />\n                    <XAxis dataKey=\"year\" />\n                    <YAxis tickFormatter={(v) => `$${(v/1000000).toFixed(1)}M`} />\n                    <Tooltip formatter={(v) => formatCurrency(v)} />\n                    <Legend />\n                    <Line type=\"monotone\" dataKey=\"EBITDA\" stroke=\"#3b82f6\" strokeWidth={3} />\n                  </LineChart>\n                </ResponsiveContainer>\n              </div>\n\n              <div className=\"mb-8 bg-white border rounded-lg p-6\">\n                <h4 className=\"text-md font-semibold mb-4 flex items-center gap-2\">\n                  <BarChart3 className=\"text-purple-600\" size={20} />\n                  SDE Trend (Auto-Calculated)\n                </h4>\n                <ResponsiveContainer width=\"100%\" height={250}>\n                  <LineChart data={chartData}>\n                    <CartesianGrid strokeDasharray=\"3 3\" />\n                    <XAxis dataKey=\"year\" />\n                    <YAxis tickFormatter={(v) => `$${(v/1000000).toFixed(1)}M`} />\n                    <Tooltip formatter={(v) => formatCurrency(v)} />\n                    <Legend />\n                    <Line type=\"monotone\" dataKey=\"SDE\" stroke=\"#9333ea\" strokeWidth={3} />\n                  </LineChart>\n                </ResponsiveContainer>\n              </div>\n            </div>\n          )}\n        </div>\n\n        <div className=\"p-6 border-t bg-gray-50 flex justify-between items-center\">\n          <button\n            onClick={onClose}\n            className=\"px-6 py-2 border rounded-lg hover:bg-gray-100\"\n          >\n            Cancel\n          </button>\n          <div className=\"flex items-center gap-4\">\n            {!selectedIndustry && (\n              <span className=\"text-sm text-red-600\">⚠️ Please select an industry</span>\n            )}\n            <button\n              onClick={handleSubmit}\n              disabled={!selectedIndustry}\n              className={`px-6 py-3 rounded-lg flex items-center gap-2 ${\n                selectedIndustry\n                  ? 'bg-blue-600 text-white hover:bg-blue-700'\n                  : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n              }`}\n            >\n              <BarChart3 size={20} />\n              Calculate Advanced Valuation\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdvancedValuationModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}