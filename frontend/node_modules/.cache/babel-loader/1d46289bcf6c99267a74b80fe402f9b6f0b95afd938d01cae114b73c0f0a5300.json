{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Cameron\\\\projects\\\\exitready-pro\\\\frontend\\\\src\\\\components\\\\AssessmentModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { X, ChevronLeft, ChevronRight, Check, ChevronDown, ChevronUp, Info } from 'lucide-react';\nimport { saveAssessmentResponse } from '../services/api';\nimport ScoringGuide from './ScoringGuide';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AssessmentModal = ({\n  assessmentId,\n  allQuestions,\n  answeredQuestions,\n  onClose,\n  onSave\n}) => {\n  _s();\n  const [currentPage, setCurrentPage] = useState(0);\n  const [answers, setAnswers] = useState({});\n  const [saving, setSaving] = useState(false);\n  const [expandedDescription, setExpandedDescription] = useState(false);\n\n  // Category descriptions\n  const categoryDescriptions = {\n    'financial_performance': {\n      short: 'Measures financial quality, consistency, and transparency',\n      long: 'Measures the quality, consistency, and transparency of your financial reporting, including GAAP compliance, margin stability, forecasting accuracy, and the separation of business finances from personal expenses. This is the foundation of buyer confidence and valuation credibility.'\n    },\n    'revenue_quality': {\n      short: 'Evaluates revenue stability and predictability',\n      long: 'Evaluates the stability and reliability of your revenue streams, including recurring income, pricing power, seasonal consistency, customer retention, and the ability to accurately forecast future results. This demonstrates sustainable cash flow that buyers can depend on.'\n    },\n    'customer_concentration': {\n      short: 'Assesses customer diversification and relationship strength',\n      long: 'Assesses the diversification and strength of your customer base, measuring whether revenue is appropriately spread across multiple clients, whether relationships are contractual and transferable, and whether customer satisfaction and retention rates indicate long-term loyalty.'\n    },\n    'management_team': {\n      short: 'Examines leadership capability and independence',\n      long: 'Examines the capability, independence, and depth of your leadership team, including their ability to operate without owner involvement, documented roles and responsibilities, track record of achieving goals, and whether succession plans ensure business continuity.'\n    },\n    'competitive_position': {\n      short: 'Analyzes market standing and competitive advantages',\n      long: 'Analyzes your market standing, competitive advantages, brand strength, and strategic positioning. This category measures whether you have a defensible market position, clear differentiation, and the competitive intelligence systems needed to maintain relevance in changing markets.'\n    },\n    'growth_potential': {\n      short: 'Evaluates capacity for future expansion',\n      long: 'Evaluates your company\\'s capacity for future expansion, including market growth rates, strategic plans with milestones, operational infrastructure that can support 2-3x growth, innovation pipelines, and your ability to scale profitably without major reinvestment.'\n    },\n    'intellectual_property': {\n      short: 'Measures strength of intangible assets and IP protection',\n      long: 'Measures the strength and protection of your intangible assets, including patents, trademarks, proprietary processes, trade secrets, vendor relationships, and licensing agreements. These are the unique capabilities that create competitive advantage and prevent commoditization.'\n    },\n    'legal_compliance': {\n      short: 'Assesses regulatory compliance and risk management',\n      long: 'Assesses your regulatory compliance, corporate governance, insurance coverage, contract management practices, and history of avoiding legal issues. This protective framework minimizes buyer risk and prevents costly surprises during due diligence.'\n    },\n    'owner_dependency': {\n      short: 'Evaluates business operations without owner involvement',\n      long: 'Evaluates how well your business can operate without owner involvement, measuring whether critical relationships, knowledge, and decision-making authority have been systematically transferred to management. This is the single most important factor in achieving premium valuations.'\n    },\n    'strategic_positioning': {\n      short: 'Examines external visibility and market presence',\n      long: 'Examines your external visibility and market presence, including digital reputation, marketing effectiveness, thought leadership, industry recognition, customer testimonials, and alignment with emerging trends. These factors make your company attractive in a competitive buyer marketplace.'\n    }\n  };\n\n  // Initialize answers from already answered questions\n  useEffect(() => {\n    const initialAnswers = {};\n    answeredQuestions.forEach(q => {\n      initialAnswers[q.question_id] = q.answer_value;\n    });\n    setAnswers(initialAnswers);\n  }, [answeredQuestions]);\n\n  // Reset expanded description when changing pages\n  useEffect(() => {\n    setExpandedDescription(false);\n  }, [currentPage]);\n\n  // Organize questions by category\n  const organizeQuestions = () => {\n    const organized = {};\n    allQuestions.forEach(q => {\n      if (!organized[q.category]) {\n        organized[q.category] = {\n          name: q.category_display,\n          key: q.category,\n          questions: []\n        };\n      }\n      organized[q.category].questions.push(q);\n    });\n    return organized;\n  };\n  const questionsByCategory = organizeQuestions();\n  const categoryKeys = Object.keys(questionsByCategory);\n  const totalCategories = categoryKeys.length;\n\n  // Get current category\n  const currentCategoryKey = categoryKeys[currentPage];\n  const currentCategory = currentCategoryKey ? questionsByCategory[currentCategoryKey] : null;\n  const currentDescription = currentCategoryKey ? categoryDescriptions[currentCategoryKey] : null;\n\n  // Calculate progress\n  const totalQuestions = allQuestions.length;\n  const totalAnswered = Object.keys(answers).length;\n  const progressPercent = totalAnswered / totalQuestions * 100;\n\n  // Calculate category progress\n  const getCategoryAnsweredCount = categoryKey => {\n    const category = questionsByCategory[categoryKey];\n    return category.questions.filter(q => answers[q.question_id] !== undefined).length;\n  };\n  const currentCategoryAnswered = currentCategory ? getCategoryAnsweredCount(currentCategoryKey) : 0;\n  const currentCategoryTotal = currentCategory ? currentCategory.questions.length : 0;\n  const currentCategoryComplete = currentCategoryAnswered === currentCategoryTotal;\n  const handleAnswerChange = async (question, value) => {\n    // Update local state\n    setAnswers(prev => ({\n      ...prev,\n      [question.question_id]: value\n    }));\n\n    // Save to backend immediately\n    try {\n      const responseData = {\n        assessment_id: assessmentId,\n        question_id: question.question_id,\n        category: question.category,\n        subject: question.subject,\n        question_text: question.question_text,\n        answer_value: value,\n        answer_text: getAnswerText(value, question.question_type),\n        comments: '',\n        rule_of_thumb: question.rule_of_thumb,\n        considerations: question.considerations,\n        related_task: question.related_task\n      };\n      const result = await saveAssessmentResponse(responseData);\n      if (!result.success) {\n        console.error('Failed to save:', result.error);\n        alert('Failed to save response: ' + result.error);\n      }\n    } catch (error) {\n      console.error('Error saving answer:', error);\n      alert('Error saving response. Please try again.');\n    }\n  };\n  const getAnswerText = (value, questionType = 'strength') => {\n    if (value === 0) return 'N/A - Not Applicable';\n    if (questionType === 'documentation') {\n      const docLabels = {\n        1: \"I Don't Know What You're Talking About\",\n        2: \"I've Heard About It, But It's Not Clear\",\n        3: \"It's Clear, But Not Documented\",\n        4: \"It's Clear & Documented, But Not Transferable\",\n        5: \"It's Clear, Documented, & Transferable\",\n        6: \"It's Perfect - No Improvement Possible\"\n      };\n      return docLabels[value] || '';\n    }\n\n    // Strength questions (default)\n    const strengthLabels = {\n      1: 'Weaker Than All Others',\n      2: 'Weaker Than Most',\n      3: 'Weak, But Gaining Strength',\n      4: 'Strong, And Getting Stronger',\n      5: 'Stronger Than Most',\n      6: 'Stronger Than All Others'\n    };\n    return strengthLabels[value] || '';\n  };\n  const getButtonColor = (value, isSelected) => {\n    if (isSelected) {\n      const selectedColors = {\n        0: 'bg-gray-400 border-gray-600 text-white shadow-lg',\n        1: 'bg-red-500 border-red-700 text-white shadow-lg',\n        2: 'bg-orange-400 border-orange-600 text-white shadow-lg',\n        3: 'bg-yellow-400 border-yellow-600 text-gray-900 shadow-lg',\n        4: 'bg-lime-400 border-lime-600 text-gray-900 shadow-lg',\n        5: 'bg-green-500 border-green-700 text-white shadow-lg',\n        6: 'bg-amber-600 border-amber-800 text-white shadow-lg'\n      };\n      return selectedColors[value] || selectedColors[0];\n    }\n    const unselectedColors = {\n      0: 'bg-white border-gray-300 text-gray-700 hover:border-gray-400 hover:bg-gray-50',\n      1: 'bg-white border-red-200 text-red-700 hover:border-red-400 hover:bg-red-50',\n      2: 'bg-white border-orange-200 text-orange-700 hover:border-orange-400 hover:bg-orange-50',\n      3: 'bg-white border-yellow-200 text-yellow-700 hover:border-yellow-400 hover:bg-yellow-50',\n      4: 'bg-white border-lime-200 text-lime-700 hover:border-lime-400 hover:bg-lime-50',\n      5: 'bg-white border-green-200 text-green-700 hover:border-green-400 hover:bg-green-50',\n      6: 'bg-white border-amber-200 text-amber-700 hover:border-amber-400 hover:bg-amber-50'\n    };\n    return unselectedColors[value] || unselectedColors[0];\n  };\n  const getAnswerBadgeColor = value => {\n    const colors = {\n      0: 'bg-gray-100 text-gray-800 border-gray-300',\n      1: 'bg-red-100 text-red-800 border-red-300',\n      2: 'bg-orange-100 text-orange-800 border-orange-300',\n      3: 'bg-yellow-100 text-yellow-800 border-yellow-300',\n      4: 'bg-lime-100 text-lime-800 border-lime-300',\n      5: 'bg-green-100 text-green-800 border-green-300',\n      6: 'bg-amber-100 text-amber-800 border-amber-300'\n    };\n    return colors[value] || colors[0];\n  };\n  const handleNext = () => {\n    if (currentPage < totalCategories - 1) {\n      setCurrentPage(currentPage + 1);\n    }\n  };\n  const handlePrevious = () => {\n    if (currentPage > 0) {\n      setCurrentPage(currentPage - 1);\n    }\n  };\n  const handleFinish = () => {\n    onClose();\n  };\n  if (!currentCategory) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-2xl w-full max-w-6xl max-h-[90vh] flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between p-6 border-b border-gray-200 bg-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-gray-900\",\n            children: \"Exit Readiness Assessment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600 mt-1\",\n            children: [\"Category \", currentPage + 1, \" of \", totalCategories, \": \", currentCategory.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-gray-400 hover:text-gray-600 transition ml-4\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 28\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-6 py-3 bg-blue-50 border-b border-blue-100\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs font-semibold text-blue-900\",\n            children: [\"Overall Progress: \", totalAnswered, \" / \", totalQuestions, \" questions\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs font-semibold text-blue-900\",\n            children: [Math.round(progressPercent), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full bg-blue-200 rounded-full h-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-600 h-2 rounded-full transition-all duration-500\",\n            style: {\n              width: `${progressPercent}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-6 py-3 bg-green-50 border-b border-green-100\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-semibold text-green-900\",\n            children: [currentCategory.name, \": \", currentCategoryAnswered, \" / \", currentCategoryTotal, \" questions\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this), currentCategoryComplete && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"flex items-center text-sm font-semibold text-green-700\",\n            children: [/*#__PURE__*/_jsxDEV(Check, {\n              size: 16,\n              className: \"mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 17\n            }, this), \"Complete\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full bg-green-200 rounded-full h-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-green-600 h-2 rounded-full transition-all duration-500\",\n            style: {\n              width: `${currentCategoryAnswered / currentCategoryTotal * 100}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-y-auto p-6\",\n        children: [currentPage === 0 && /*#__PURE__*/_jsxDEV(ScoringGuide, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 33\n        }, this), currentDescription && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6 bg-blue-50 border-2 border-blue-200 rounded-lg overflow-hidden\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setExpandedDescription(!expandedDescription),\n            className: \"w-full flex items-center justify-between p-4 hover:bg-blue-100 transition\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3 flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(Info, {\n                size: 20,\n                className: \"text-blue-600 flex-shrink-0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-left\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-semibold text-blue-900\",\n                  children: \"About this category\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-blue-800 mt-1\",\n                  children: currentDescription.short\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 17\n            }, this), expandedDescription ? /*#__PURE__*/_jsxDEV(ChevronUp, {\n              size: 20,\n              className: \"text-blue-600 flex-shrink-0 ml-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(ChevronDown, {\n              size: 20,\n              className: \"text-blue-600 flex-shrink-0 ml-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 15\n          }, this), expandedDescription && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-4 pb-4 bg-white border-t border-blue-200\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-700 leading-relaxed\",\n              children: currentDescription.long\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold text-gray-900 mb-4\",\n            children: currentCategory.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this), currentCategory.questions.map((question, index) => {\n            const currentAnswer = answers[question.question_id];\n            const isAnswered = currentAnswer !== undefined;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `p-5 rounded-lg border-2 transition ${isAnswered ? 'border-green-300 bg-green-50' : 'border-gray-300 bg-white'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-start space-x-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold text-sm\",\n                    children: index + 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"text-sm font-semibold text-gray-900 mb-1\",\n                      children: question.question_title || question.subject\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 360,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-800\",\n                      children: question.question_text\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 363,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 359,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-xs font-medium text-gray-700\",\n                  children: \"Select your response (0 = Not Applicable):\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-7 gap-2\",\n                  children: [0, 1, 2, 3, 4, 5, 6].map(value => {\n                    const isSelected = currentAnswer === value;\n                    const shortLabels = {\n                      0: 'N/A',\n                      1: '1',\n                      2: '2',\n                      3: '3',\n                      4: '4',\n                      5: '5',\n                      6: '6'\n                    };\n                    return /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      onClick: () => handleAnswerChange(question, value),\n                      className: `p-3 rounded-lg border-2 transition-all text-center ${getButtonColor(value, isSelected)} ${isSelected ? 'scale-105' : ''}`,\n                      title: getAnswerText(value, question.question_type),\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-2xl font-bold\",\n                        children: shortLabels[value]\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 398,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `text-xs mt-1 ${isSelected ? '' : 'text-gray-500'}`,\n                        children: value === 0 ? 'N/A' : `${value === 1 ? 17 : value === 2 ? 33 : value === 3 ? 50 : value === 4 ? 67 : value === 5 ? 83 : 100}%`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 399,\n                        columnNumber: 29\n                      }, this)]\n                    }, value, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 389,\n                      columnNumber: 27\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 19\n              }, this), isAnswered && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-3 flex items-center space-x-2\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${getAnswerBadgeColor(currentAnswer)}`,\n                  children: [/*#__PURE__*/_jsxDEV(Check, {\n                    size: 14,\n                    className: \"mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 414,\n                    columnNumber: 25\n                  }, this), getAnswerText(currentAnswer, question.question_type)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 21\n              }, this), question.rule_of_thumb && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-3 p-3 bg-blue-50 border border-blue-200 rounded\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-blue-900\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"\\uD83D\\uDCA1 Rule of Thumb:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 424,\n                    columnNumber: 25\n                  }, this), \" \", question.rule_of_thumb]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 423,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 21\n              }, this)]\n            }, question.question_id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 17\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-t border-gray-200 bg-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-6 py-3 border-b border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-center space-x-2\",\n            children: categoryKeys.map((catKey, index) => {\n              const isComplete = getCategoryAnsweredCount(catKey) === questionsByCategory[catKey].questions.length;\n              const isCurrent = index === currentPage;\n              return /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setCurrentPage(index),\n                className: `relative group transition-all ${isCurrent ? 'w-12 h-3' : 'w-3 h-3'}`,\n                title: questionsByCategory[catKey].name,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `w-full h-full rounded-full transition-all ${isComplete ? 'bg-green-500' : isCurrent ? 'bg-blue-600' : 'bg-gray-300'}`,\n                  children: isComplete && /*#__PURE__*/_jsxDEV(Check, {\n                    size: 10,\n                    className: \"text-white absolute inset-0 m-auto\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 462,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 454,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition whitespace-nowrap pointer-events-none z-10\",\n                  children: questionsByCategory[catKey].name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 466,\n                  columnNumber: 21\n                }, this)]\n              }, catKey, true, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handlePrevious,\n            disabled: currentPage === 0,\n            className: `flex items-center space-x-2 px-5 py-3 rounded-lg font-semibold transition ${currentPage === 0 ? 'bg-gray-100 text-gray-400 cursor-not-allowed' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`,\n            children: [/*#__PURE__*/_jsxDEV(ChevronLeft, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Previous\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-600\",\n            children: [\"Page \", currentPage + 1, \" of \", totalCategories]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 13\n          }, this), currentPage < totalCategories - 1 ? /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleNext,\n            className: \"flex items-center space-x-2 px-5 py-3 rounded-lg font-semibold bg-blue-600 text-white hover:bg-blue-700 transition\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Next Category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 499,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ChevronRight, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleFinish,\n            className: `px-6 py-3 rounded-lg font-semibold transition ${totalAnswered === totalQuestions ? 'bg-green-600 text-white hover:bg-green-700' : 'bg-blue-600 text-white hover:bg-blue-700'}`,\n            children: totalAnswered === totalQuestions ? 'Finish & View Results' : 'Save & Close'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 237,\n    columnNumber: 5\n  }, this);\n};\n_s(AssessmentModal, \"hOPlZK+lAfpo2qz076AyTnlMeII=\");\n_c = AssessmentModal;\nexport default AssessmentModal;\nvar _c;\n$RefreshReg$(_c, \"AssessmentModal\");","map":{"version":3,"names":["React","useState","useEffect","X","ChevronLeft","ChevronRight","Check","ChevronDown","ChevronUp","Info","saveAssessmentResponse","ScoringGuide","jsxDEV","_jsxDEV","AssessmentModal","assessmentId","allQuestions","answeredQuestions","onClose","onSave","_s","currentPage","setCurrentPage","answers","setAnswers","saving","setSaving","expandedDescription","setExpandedDescription","categoryDescriptions","short","long","initialAnswers","forEach","q","question_id","answer_value","organizeQuestions","organized","category","name","category_display","key","questions","push","questionsByCategory","categoryKeys","Object","keys","totalCategories","length","currentCategoryKey","currentCategory","currentDescription","totalQuestions","totalAnswered","progressPercent","getCategoryAnsweredCount","categoryKey","filter","undefined","currentCategoryAnswered","currentCategoryTotal","currentCategoryComplete","handleAnswerChange","question","value","prev","responseData","assessment_id","subject","question_text","answer_text","getAnswerText","question_type","comments","rule_of_thumb","considerations","related_task","result","success","console","error","alert","questionType","docLabels","strengthLabels","getButtonColor","isSelected","selectedColors","unselectedColors","getAnswerBadgeColor","colors","handleNext","handlePrevious","handleFinish","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","Math","round","style","width","map","index","currentAnswer","isAnswered","question_title","shortLabels","type","title","catKey","isComplete","isCurrent","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Cameron/projects/exitready-pro/frontend/src/components/AssessmentModal.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { X, ChevronLeft, ChevronRight, Check, ChevronDown, ChevronUp, Info } from 'lucide-react';\nimport { saveAssessmentResponse } from '../services/api';\nimport ScoringGuide from './ScoringGuide';\n\nconst AssessmentModal = ({ assessmentId, allQuestions, answeredQuestions, onClose, onSave }) => {\n  const [currentPage, setCurrentPage] = useState(0);\n  const [answers, setAnswers] = useState({});\n  const [saving, setSaving] = useState(false);\n  const [expandedDescription, setExpandedDescription] = useState(false);\n\n  // Category descriptions\n  const categoryDescriptions = {\n    'financial_performance': {\n      short: 'Measures financial quality, consistency, and transparency',\n      long: 'Measures the quality, consistency, and transparency of your financial reporting, including GAAP compliance, margin stability, forecasting accuracy, and the separation of business finances from personal expenses. This is the foundation of buyer confidence and valuation credibility.'\n    },\n    'revenue_quality': {\n      short: 'Evaluates revenue stability and predictability',\n      long: 'Evaluates the stability and reliability of your revenue streams, including recurring income, pricing power, seasonal consistency, customer retention, and the ability to accurately forecast future results. This demonstrates sustainable cash flow that buyers can depend on.'\n    },\n    'customer_concentration': {\n      short: 'Assesses customer diversification and relationship strength',\n      long: 'Assesses the diversification and strength of your customer base, measuring whether revenue is appropriately spread across multiple clients, whether relationships are contractual and transferable, and whether customer satisfaction and retention rates indicate long-term loyalty.'\n    },\n    'management_team': {\n      short: 'Examines leadership capability and independence',\n      long: 'Examines the capability, independence, and depth of your leadership team, including their ability to operate without owner involvement, documented roles and responsibilities, track record of achieving goals, and whether succession plans ensure business continuity.'\n    },\n    'competitive_position': {\n      short: 'Analyzes market standing and competitive advantages',\n      long: 'Analyzes your market standing, competitive advantages, brand strength, and strategic positioning. This category measures whether you have a defensible market position, clear differentiation, and the competitive intelligence systems needed to maintain relevance in changing markets.'\n    },\n    'growth_potential': {\n      short: 'Evaluates capacity for future expansion',\n      long: 'Evaluates your company\\'s capacity for future expansion, including market growth rates, strategic plans with milestones, operational infrastructure that can support 2-3x growth, innovation pipelines, and your ability to scale profitably without major reinvestment.'\n    },\n    'intellectual_property': {\n      short: 'Measures strength of intangible assets and IP protection',\n      long: 'Measures the strength and protection of your intangible assets, including patents, trademarks, proprietary processes, trade secrets, vendor relationships, and licensing agreements. These are the unique capabilities that create competitive advantage and prevent commoditization.'\n    },\n    'legal_compliance': {\n      short: 'Assesses regulatory compliance and risk management',\n      long: 'Assesses your regulatory compliance, corporate governance, insurance coverage, contract management practices, and history of avoiding legal issues. This protective framework minimizes buyer risk and prevents costly surprises during due diligence.'\n    },\n    'owner_dependency': {\n      short: 'Evaluates business operations without owner involvement',\n      long: 'Evaluates how well your business can operate without owner involvement, measuring whether critical relationships, knowledge, and decision-making authority have been systematically transferred to management. This is the single most important factor in achieving premium valuations.'\n    },\n    'strategic_positioning': {\n      short: 'Examines external visibility and market presence',\n      long: 'Examines your external visibility and market presence, including digital reputation, marketing effectiveness, thought leadership, industry recognition, customer testimonials, and alignment with emerging trends. These factors make your company attractive in a competitive buyer marketplace.'\n    }\n  };\n\n  // Initialize answers from already answered questions\n  useEffect(() => {\n    const initialAnswers = {};\n    answeredQuestions.forEach(q => {\n      initialAnswers[q.question_id] = q.answer_value;\n    });\n    setAnswers(initialAnswers);\n  }, [answeredQuestions]);\n\n  // Reset expanded description when changing pages\n  useEffect(() => {\n    setExpandedDescription(false);\n  }, [currentPage]);\n\n  // Organize questions by category\n  const organizeQuestions = () => {\n    const organized = {};\n    \n    allQuestions.forEach(q => {\n      if (!organized[q.category]) {\n        organized[q.category] = {\n          name: q.category_display,\n          key: q.category,\n          questions: []\n        };\n      }\n      \n      organized[q.category].questions.push(q);\n    });\n    \n    return organized;\n  };\n\n  const questionsByCategory = organizeQuestions();\n  const categoryKeys = Object.keys(questionsByCategory);\n  const totalCategories = categoryKeys.length;\n\n  // Get current category\n  const currentCategoryKey = categoryKeys[currentPage];\n  const currentCategory = currentCategoryKey ? questionsByCategory[currentCategoryKey] : null;\n  const currentDescription = currentCategoryKey ? categoryDescriptions[currentCategoryKey] : null;\n\n  // Calculate progress\n  const totalQuestions = allQuestions.length;\n  const totalAnswered = Object.keys(answers).length;\n  const progressPercent = (totalAnswered / totalQuestions) * 100;\n\n  // Calculate category progress\n  const getCategoryAnsweredCount = (categoryKey) => {\n    const category = questionsByCategory[categoryKey];\n    return category.questions.filter(q => answers[q.question_id] !== undefined).length;\n  };\n\n  const currentCategoryAnswered = currentCategory \n    ? getCategoryAnsweredCount(currentCategoryKey) \n    : 0;\n  const currentCategoryTotal = currentCategory ? currentCategory.questions.length : 0;\n  const currentCategoryComplete = currentCategoryAnswered === currentCategoryTotal;\n\n  const handleAnswerChange = async (question, value) => {\n    // Update local state\n    setAnswers(prev => ({\n      ...prev,\n      [question.question_id]: value\n    }));\n\n    // Save to backend immediately\n    try {\n      const responseData = {\n        assessment_id: assessmentId,\n        question_id: question.question_id,\n        category: question.category,\n        subject: question.subject,\n        question_text: question.question_text,\n        answer_value: value,\n        answer_text: getAnswerText(value, question.question_type),\n        comments: '',\n        rule_of_thumb: question.rule_of_thumb,\n        considerations: question.considerations,\n        related_task: question.related_task\n      };\n\n      const result = await saveAssessmentResponse(responseData);\n\n      if (!result.success) {\n        console.error('Failed to save:', result.error);\n        alert('Failed to save response: ' + result.error);\n      }\n    } catch (error) {\n      console.error('Error saving answer:', error);\n      alert('Error saving response. Please try again.');\n    }\n  };\n\n  const getAnswerText = (value, questionType = 'strength') => {\n    if (value === 0) return 'N/A - Not Applicable';\n    \n    if (questionType === 'documentation') {\n      const docLabels = {\n        1: \"I Don't Know What You're Talking About\",\n        2: \"I've Heard About It, But It's Not Clear\",\n        3: \"It's Clear, But Not Documented\",\n        4: \"It's Clear & Documented, But Not Transferable\",\n        5: \"It's Clear, Documented, & Transferable\",\n        6: \"It's Perfect - No Improvement Possible\"\n      };\n      return docLabels[value] || '';\n    }\n    \n    // Strength questions (default)\n    const strengthLabels = {\n      1: 'Weaker Than All Others',\n      2: 'Weaker Than Most',\n      3: 'Weak, But Gaining Strength',\n      4: 'Strong, And Getting Stronger',\n      5: 'Stronger Than Most',\n      6: 'Stronger Than All Others'\n    };\n    return strengthLabels[value] || '';\n  };\n\n  const getButtonColor = (value, isSelected) => {\n    if (isSelected) {\n      const selectedColors = {\n        0: 'bg-gray-400 border-gray-600 text-white shadow-lg',\n        1: 'bg-red-500 border-red-700 text-white shadow-lg',\n        2: 'bg-orange-400 border-orange-600 text-white shadow-lg',\n        3: 'bg-yellow-400 border-yellow-600 text-gray-900 shadow-lg',\n        4: 'bg-lime-400 border-lime-600 text-gray-900 shadow-lg',\n        5: 'bg-green-500 border-green-700 text-white shadow-lg',\n        6: 'bg-amber-600 border-amber-800 text-white shadow-lg'\n      };\n      return selectedColors[value] || selectedColors[0];\n    }\n    \n    const unselectedColors = {\n      0: 'bg-white border-gray-300 text-gray-700 hover:border-gray-400 hover:bg-gray-50',\n      1: 'bg-white border-red-200 text-red-700 hover:border-red-400 hover:bg-red-50',\n      2: 'bg-white border-orange-200 text-orange-700 hover:border-orange-400 hover:bg-orange-50',\n      3: 'bg-white border-yellow-200 text-yellow-700 hover:border-yellow-400 hover:bg-yellow-50',\n      4: 'bg-white border-lime-200 text-lime-700 hover:border-lime-400 hover:bg-lime-50',\n      5: 'bg-white border-green-200 text-green-700 hover:border-green-400 hover:bg-green-50',\n      6: 'bg-white border-amber-200 text-amber-700 hover:border-amber-400 hover:bg-amber-50'\n    };\n    return unselectedColors[value] || unselectedColors[0];\n  };\n\n  const getAnswerBadgeColor = (value) => {\n    const colors = {\n      0: 'bg-gray-100 text-gray-800 border-gray-300',\n      1: 'bg-red-100 text-red-800 border-red-300',\n      2: 'bg-orange-100 text-orange-800 border-orange-300',\n      3: 'bg-yellow-100 text-yellow-800 border-yellow-300',\n      4: 'bg-lime-100 text-lime-800 border-lime-300',\n      5: 'bg-green-100 text-green-800 border-green-300',\n      6: 'bg-amber-100 text-amber-800 border-amber-300'\n    };\n    return colors[value] || colors[0];\n  };\n\n  const handleNext = () => {\n    if (currentPage < totalCategories - 1) {\n      setCurrentPage(currentPage + 1);\n    }\n  };\n\n  const handlePrevious = () => {\n    if (currentPage > 0) {\n      setCurrentPage(currentPage - 1);\n    }\n  };\n\n  const handleFinish = () => {\n    onClose();\n  };\n\n  if (!currentCategory) {\n    return null;\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-lg shadow-2xl w-full max-w-6xl max-h-[90vh] flex flex-col\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-200 bg-gray-50\">\n          <div className=\"flex-1\">\n            <h2 className=\"text-2xl font-bold text-gray-900\">Exit Readiness Assessment</h2>\n            <p className=\"text-sm text-gray-600 mt-1\">\n              Category {currentPage + 1} of {totalCategories}: {currentCategory.name}\n            </p>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"text-gray-400 hover:text-gray-600 transition ml-4\"\n          >\n            <X size={28} />\n          </button>\n        </div>\n\n        {/* Overall Progress Bar */}\n        <div className=\"px-6 py-3 bg-blue-50 border-b border-blue-100\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <span className=\"text-xs font-semibold text-blue-900\">\n              Overall Progress: {totalAnswered} / {totalQuestions} questions\n            </span>\n            <span className=\"text-xs font-semibold text-blue-900\">\n              {Math.round(progressPercent)}%\n            </span>\n          </div>\n          <div className=\"w-full bg-blue-200 rounded-full h-2\">\n            <div\n              className=\"bg-blue-600 h-2 rounded-full transition-all duration-500\"\n              style={{ width: `${progressPercent}%` }}\n            ></div>\n          </div>\n        </div>\n\n        {/* Category Progress */}\n        <div className=\"px-6 py-3 bg-green-50 border-b border-green-100\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <span className=\"text-sm font-semibold text-green-900\">\n              {currentCategory.name}: {currentCategoryAnswered} / {currentCategoryTotal} questions\n            </span>\n            {currentCategoryComplete && (\n              <span className=\"flex items-center text-sm font-semibold text-green-700\">\n                <Check size={16} className=\"mr-1\" />\n                Complete\n              </span>\n            )}\n          </div>\n          <div className=\"w-full bg-green-200 rounded-full h-2\">\n            <div\n              className=\"bg-green-600 h-2 rounded-full transition-all duration-500\"\n              style={{ width: `${(currentCategoryAnswered / currentCategoryTotal) * 100}%` }}\n            ></div>\n          </div>\n        </div>\n\n        {/* Content - Scrollable */}\n        <div className=\"flex-1 overflow-y-auto p-6\">\n          {/* Show Scoring Guide only on first page */}\n          {currentPage === 0 && <ScoringGuide />}\n\n          {/* Category Description */}\n          {currentDescription && (\n            <div className=\"mb-6 bg-blue-50 border-2 border-blue-200 rounded-lg overflow-hidden\">\n              <button\n                onClick={() => setExpandedDescription(!expandedDescription)}\n                className=\"w-full flex items-center justify-between p-4 hover:bg-blue-100 transition\"\n              >\n                <div className=\"flex items-center space-x-3 flex-1\">\n                  <Info size={20} className=\"text-blue-600 flex-shrink-0\" />\n                  <div className=\"text-left\">\n                    <h4 className=\"font-semibold text-blue-900\">\n                      About this category\n                    </h4>\n                    <p className=\"text-sm text-blue-800 mt-1\">\n                      {currentDescription.short}\n                    </p>\n                  </div>\n                </div>\n                {expandedDescription ? (\n                  <ChevronUp size={20} className=\"text-blue-600 flex-shrink-0 ml-2\" />\n                ) : (\n                  <ChevronDown size={20} className=\"text-blue-600 flex-shrink-0 ml-2\" />\n                )}\n              </button>\n              \n              {expandedDescription && (\n                <div className=\"px-4 pb-4 bg-white border-t border-blue-200\">\n                  <p className=\"text-sm text-gray-700 leading-relaxed\">\n                    {currentDescription.long}\n                  </p>\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Category Questions */}\n          <div className=\"space-y-6\">\n            <h3 className=\"text-xl font-bold text-gray-900 mb-4\">\n              {currentCategory.name}\n            </h3>\n\n            {currentCategory.questions.map((question, index) => {\n              const currentAnswer = answers[question.question_id];\n              const isAnswered = currentAnswer !== undefined;\n\n              return (\n                <div\n                  key={question.question_id}\n                  className={`p-5 rounded-lg border-2 transition ${\n                    isAnswered\n                      ? 'border-green-300 bg-green-50'\n                      : 'border-gray-300 bg-white'\n                  }`}\n                >\n                  {/* Question Number and Text */}\n                  <div className=\"mb-4\">\n                    <div className=\"flex items-start space-x-3\">\n                      <span className=\"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold text-sm\">\n                        {index + 1}\n                      </span>\n                      <div className=\"flex-1\">\n                        <h4 className=\"text-sm font-semibold text-gray-900 mb-1\">\n                          {question.question_title || question.subject}\n                        </h4>\n                        <p className=\"text-sm text-gray-800\">\n                          {question.question_text}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Button Scale 0-6 */}\n                  <div className=\"space-y-2\">\n                    <label className=\"block text-xs font-medium text-gray-700\">\n                      Select your response (0 = Not Applicable):\n                    </label>\n                    <div className=\"grid grid-cols-7 gap-2\">\n                      {[0, 1, 2, 3, 4, 5, 6].map((value) => {\n                        const isSelected = currentAnswer === value;\n                        const shortLabels = {\n                          0: 'N/A',\n                          1: '1',\n                          2: '2',\n                          3: '3',\n                          4: '4',\n                          5: '5',\n                          6: '6'\n                        };\n\n                        return (\n                          <button\n                            key={value}\n                            type=\"button\"\n                            onClick={() => handleAnswerChange(question, value)}\n                            className={`p-3 rounded-lg border-2 transition-all text-center ${\n                              getButtonColor(value, isSelected)\n                            } ${isSelected ? 'scale-105' : ''}`}\n                            title={getAnswerText(value, question.question_type)}\n                          >\n                            <div className=\"text-2xl font-bold\">{shortLabels[value]}</div>\n                            <div className={`text-xs mt-1 ${isSelected ? '' : 'text-gray-500'}`}>\n                              {value === 0 ? 'N/A' : `${value === 1 ? 17 : value === 2 ? 33 : value === 3 ? 50 : value === 4 ? 67 : value === 5 ? 83 : 100}%`}\n                            </div>\n                          </button>\n                        );\n                      })}\n                    </div>\n                  </div>\n\n                  {/* Answered Badge */}\n                  {isAnswered && (\n                    <div className=\"mt-3 flex items-center space-x-2\">\n                      <span className={`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${\n                        getAnswerBadgeColor(currentAnswer)\n                      }`}>\n                        <Check size={14} className=\"mr-1\" />\n                        {getAnswerText(currentAnswer, question.question_type)}\n                      </span>\n                    </div>\n                  )}\n\n                  {/* Rule of Thumb (if exists) */}\n                  {question.rule_of_thumb && (\n                    <div className=\"mt-3 p-3 bg-blue-50 border border-blue-200 rounded\">\n                      <p className=\"text-xs text-blue-900\">\n                        <strong> Rule of Thumb:</strong> {question.rule_of_thumb}\n                      </p>\n                    </div>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n        </div>\n\n        {/* Footer with Navigation */}\n        <div className=\"border-t border-gray-200 bg-gray-50\">\n          {/* Category Navigation Dots */}\n          <div className=\"px-6 py-3 border-b border-gray-200\">\n            <div className=\"flex items-center justify-center space-x-2\">\n              {categoryKeys.map((catKey, index) => {\n                const isComplete = getCategoryAnsweredCount(catKey) === questionsByCategory[catKey].questions.length;\n                const isCurrent = index === currentPage;\n                \n                return (\n                  <button\n                    key={catKey}\n                    onClick={() => setCurrentPage(index)}\n                    className={`relative group transition-all ${\n                      isCurrent \n                        ? 'w-12 h-3' \n                        : 'w-3 h-3'\n                    }`}\n                    title={questionsByCategory[catKey].name}\n                  >\n                    <div className={`w-full h-full rounded-full transition-all ${\n                      isComplete \n                        ? 'bg-green-500' \n                        : isCurrent \n                        ? 'bg-blue-600' \n                        : 'bg-gray-300'\n                    }`}>\n                      {isComplete && (\n                        <Check size={10} className=\"text-white absolute inset-0 m-auto\" />\n                      )}\n                    </div>\n                    {/* Tooltip */}\n                    <span className=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition whitespace-nowrap pointer-events-none z-10\">\n                      {questionsByCategory[catKey].name}\n                    </span>\n                  </button>\n                );\n              })}\n            </div>\n          </div>\n\n          {/* Navigation Buttons */}\n          <div className=\"flex items-center justify-between p-6\">\n            <button\n              onClick={handlePrevious}\n              disabled={currentPage === 0}\n              className={`flex items-center space-x-2 px-5 py-3 rounded-lg font-semibold transition ${\n                currentPage === 0\n                  ? 'bg-gray-100 text-gray-400 cursor-not-allowed'\n                  : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n              }`}\n            >\n              <ChevronLeft size={20} />\n              <span>Previous</span>\n            </button>\n\n            <div className=\"text-sm text-gray-600\">\n              Page {currentPage + 1} of {totalCategories}\n            </div>\n\n            {currentPage < totalCategories - 1 ? (\n              <button\n                onClick={handleNext}\n                className=\"flex items-center space-x-2 px-5 py-3 rounded-lg font-semibold bg-blue-600 text-white hover:bg-blue-700 transition\"\n              >\n                <span>Next Category</span>\n                <ChevronRight size={20} />\n              </button>\n            ) : (\n              <button\n                onClick={handleFinish}\n                className={`px-6 py-3 rounded-lg font-semibold transition ${\n                  totalAnswered === totalQuestions\n                    ? 'bg-green-600 text-white hover:bg-green-700'\n                    : 'bg-blue-600 text-white hover:bg-blue-700'\n                }`}\n              >\n                {totalAnswered === totalQuestions ? 'Finish & View Results' : 'Save & Close'}\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AssessmentModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}